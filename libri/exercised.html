<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Exercised - Riepilogo del Libro</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Import Montserrat font from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <!-- Favicon -->
    <link rel="icon" href="/index_files/ff.webp" type="image/webp">
    <link rel="apple-touch-icon" href="/index_files/ff.webp">
    <style>
        /* Root variables */
        :root {
            --theme-color: #ADD8E6; /* Light blue */
            --question-color: #B3E5FC; /* Lighter blue */
            --data-color: #81D4FA; /* Medium blue */
            --quote-color: #4FC3F7; /* Darker blue */
            --progress-bar-color: #4CAF50; /* Green */
        }

        /* Basic styles */
        body {
            margin: 0;
            font-family: 'Montserrat', sans-serif;
            background-color: #fff;
            color: #333;
            overflow: hidden; /* Prevent scrolling on body */
        }

        /* App container */
        .app-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        /* Header with logo, buttons, and language switch */
        .header {
            display: flex;
            align-items: center;
            background-color: var(--theme-color);
            padding: 10px;
            flex-shrink: 0;
            flex-wrap: nowrap;
        }

        .logo {
            height: 40px;
            cursor: pointer;
            flex-shrink: 0;
            margin-right: 10px;
        }

        .language-switch {
            background-color: transparent;
            border: none;
            font-size: 24px;
            cursor: pointer;
            flex-shrink: 0;
            margin-left: 10px;
        }

        /* Buttons container inside header */
        .buttons-container {
            display: flex;
            overflow-x: auto;
            flex-grow: 1;
        }

        .buttons-container::-webkit-scrollbar {
            display: none; /* Hide scrollbar */
        }

        /* Buttons */
        .button {
            flex: 0 0 auto;
            margin: 0 5px;
            padding: 8px 12px;
            background-color: #fff;
            color: #333;
            border-radius: 20px;
            text-align: center;
            font-size: 14px;
            cursor: pointer;
            user-select: none;
            white-space: nowrap;
        }

        /* Progress bar */
        .progress-bar {
            height: 5px;
            background-color: var(--progress-bar-color);
            width: 0%;
            transition: width 0.5s ease-in-out;
            flex-shrink: 0;
        }

        /* Cards container */
        .cards-container {
            flex: 1;
            overflow: hidden;
            position: relative;
        }

        /* Cards wrapper for sliding effect */
        .cards-wrapper {
            display: flex;
            height: 100%;
            transition: transform 0.5s ease-in-out;
        }

        /* Individual card */
        .card {
            flex: 0 0 100%;
            height: 100%;
            overflow: hidden;
            background-color: #fff;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
        }

        /* Card content */
        .card-content {
            flex: 1;
            overflow-y: auto;
            padding: 10px 20px 30px 20px; /* Adjusted padding */
            box-sizing: border-box;
            max-width: 450px;
            margin: 0 auto;
        }

        /* Section styles */
        .section-title {
            margin-top: 10px;
            margin-bottom: 10px;
            font-size: 20px;
            font-weight: bold;
        }

        /* Content block */
        .content-block {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 10px;
            word-wrap: break-word; /* Prevent overflow of long words */
            font-size: 16px;
            font-weight: bold;
        }

        .questions {
            background-color: var(--question-color);
        }

        .data {
            background-color: var(--data-color);
        }

        .quotes {
            background-color: var(--quote-color);
        }

        /* Hide scrollbars on card content */
        .card-content::-webkit-scrollbar {
            width: 0px;
            background: transparent;
        }

        /* "Action" buttons */
        .action-button {
            display: block;
            margin: 10px 0 0;
            padding: 10px 20px;
            background-color: var(--theme-color);
            color: #fff;
            border: none;
            border-radius: 20px;
            font-size: 16px;
            cursor: pointer;
            text-align: left;
            font-weight: bold;
        }

        /* Book details styles */
        .book-details p {
            font-size: 16px;
            font-weight: bold;
            margin: 5px 0;
        }

        .book-details img {
            margin-bottom: 10px;
        }

        .book-details h2 {
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        /* Footer */
        footer {
            text-align: center;
            font-size: 16px;
            font-family: 'Montserrat', sans-serif;
            padding: 10px;
            background-color: #f0f0f0;
        }

        footer a {
            color: #00bef8;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header with logo, buttons, and language switch -->
        <div class="header">
            <a href="https://futurofortissimo.github.io/">
                <img src="/index_files/ff.webp" alt="Logo" class="logo">
            </a>
            <!-- Buttons inside header -->
            <div class="buttons-container" id="buttons-container">
                <!-- Buttons will be dynamically inserted here -->
            </div>
            <!-- Language switch (not applicable as content is in Italian) -->
        </div>

        <!-- Progress bar -->
        <div class="progress-bar"></div>

        <!-- Cards -->
        <div class="cards-container">
            <div class="cards-wrapper" id="cards-wrapper">
                <!-- Cards will be dynamically inserted here -->
            </div>
        </div>
    </div>

    <footer>
        <p><a href="https://linktr.ee/micmer">michele merelli</a> per
        <a href="https://fortissimo.substack.com/">futuro fortissimo</a></p>
    </footer>

    <script>
        // Content data
        const content = {
            chapters: [
                {
                    title: "Prospettiva Evolutiva sull'Esercizio",
                    buttonLabel: 'ðŸƒ Evoluzione',
                    contentBlocks: [
                        {
                            type: 'questions',
                            content: [
                                "Come si Ã¨ evoluta la definizione di esercizio nel corso della storia?",
                                "Cosa possiamo imparare sull'esercizio studiando popolazioni non occidentali e il nostro passato evolutivo?",
                                "L'esercizio Ã¨ veramente un comportamento unicamente umano o esistono precedenti evolutivi nel regno animale?"
                            ]
                        },
                        {
                            type: 'data',
                            content: [
                                "Gli occidentali rappresentano solo il 12% della popolazione globale e potrebbero non rappresentare accuratamente il nostro passato evolutivo.",
                                "I cacciatori-raccoglitori, nonostante siano altamente attivi, si dedicano a sostanziali periodi di riposo e attivitÃ  a bassa intensitÃ .",
                                "Il concetto di esercizio come categoria distinta di attivitÃ  Ã¨ emerso relativamente di recente nella storia umana."
                            ]
                        }
                    ]
                },
                {
                    title: "Sfatare il Mito del Sedere Come il Nuovo Fumo",
                    buttonLabel: 'ðŸ’º SedentarietÃ ',
                    contentBlocks: [
                        {
                            type: 'questions',
                            content: [
                                "Quanto tempo sedersi Ã¨ troppo e quali sono i rischi specifici per la salute associati al sedersi prolungato?",
                                "Sedere in piedi tutto il giorno Ã¨ una soluzione pratica ed efficace ai problemi del sedersi?",
                                "Qual Ã¨ il ruolo dell'attivitÃ  fisica a bassa intensitÃ  nel mitigare gli effetti negativi del sedersi e come puÃ² questa conoscenza essere applicata agli stili di vita moderni?"
                            ]
                        },
                        {
                            type: 'data',
                            content: [
                                "Stare in piedi invece di sedersi brucia solo circa l'8-10% in piÃ¹ di calorie.",
                                "Pause frequenti, anche brevi, possono ridurre significativamente l'infiammazione associata al sedersi prolungato.",
                                "Le attivitÃ  fisiche a bassa intensitÃ  possono compensare alcuni dei rischi associati al sedersi."
                            ]
                        }
                    ]
                },
                {
                    title: "Sonno: La Squadra di Pulizia del Cervello",
                    buttonLabel: 'ðŸ˜´ Sonno',
                    contentBlocks: [
                        {
                            type: 'questions',
                            content: [
                                "Quali sono le funzioni principali del sonno e come si collegano alla nostra storia evolutiva?",
                                "Le otto ore di sonno raccomandate per notte sono una necessitÃ  biologica o una costruzione culturale?",
                                "Come influisce l'esercizio sui pattern del sonno e quali sono le implicazioni per migliorare la qualitÃ  del sonno?"
                            ]
                        },
                        {
                            type: 'data',
                            content: [
                                "Il cervello utilizza il sonno per eliminare i rifiuti metabolici attraverso un sistema di drenaggio unico.",
                                "La durata del sonno varia ampiamente tra le specie e le culture, influenzata da vari fattori.",
                                "L'attivitÃ  fisica regolare puÃ² migliorare la qualitÃ  del sonno aumentando la pressione del sonno e riducendo lo stress."
                            ]
                        }
                    ]
                },
                {
                    title: "La NecessitÃ  della VelocitÃ : Comprendere le CapacitÃ  Umane di Corsa",
                    buttonLabel: 'ðŸƒâ€â™‚ï¸ Corsa',
                    contentBlocks: [
                        {
                            type: 'questions',
                            content: [
                                "PerchÃ© gli esseri umani sono corridori relativamente lenti rispetto a molti altri animali, specialmente su brevi distanze?",
                                "Quali sono i vantaggi evolutivi della corsa di resistenza e come hanno plasmato la fisiologia umana?",
                                "Quali adattamenti fisiologici permettono agli esseri umani di eccellere nella corsa di resistenza?"
                            ]
                        },
                        {
                            type: 'data',
                            content: [
                                "Gli esseri umani possiedono notevoli capacitÃ  di corsa di resistenza, superando molti animali su lunghe distanze.",
                                "La capacitÃ  di correre su lunghe distanze ha giocato un ruolo cruciale nell'evoluzione umana precoce.",
                                "Adattamenti come la sudorazione efficiente e la termoregolazione ci permettono di mantenere la temperatura corporea durante la corsa prolungata."
                            ]
                        }
                    ]
                },
                {
                    title: "Il Potere della Forza: Costruire Muscoli e i Suoi Benefici",
                    buttonLabel: 'ðŸ’ª Forza',
                    contentBlocks: [
                        {
                            type: 'questions',
                            content: [
                                "Quali sono i diversi tipi di fibre muscolari e come contribuiscono a varie attivitÃ  atletiche?",
                                "Quali sono i metodi di allenamento piÃ¹ efficaci per aumentare la massa muscolare e la forza?",
                                "Qual Ã¨ il ruolo della genetica nel determinare il potenziale atletico e come interagisce con fattori ambientali come l'allenamento?"
                            ]
                        },
                        {
                            type: 'data',
                            content: [
                                "Contrazioni muscolari eccentriche e isometriche sono potenti per costruire muscoli.",
                                "La crescita muscolare puÃ² essere stimolata attraverso vari metodi di allenamento.",
                                "La genetica influenza il potenziale atletico, ma l'allenamento e l'ambiente sono fondamentali."
                            ]
                        }
                    ]
                },
                {
                    title: "L'Equazione Energetica: Come i Nostri Corpi Gestiscono le Calorie",
                    buttonLabel: 'ðŸ”¥ Calorie',
                    contentBlocks: [
                        {
                            type: 'questions',
                            content: [
                                "Come regola il corpo l'equilibrio energetico e quali fattori influenzano l'aumento o la perdita di peso?",
                                "L'esercizio porta costantemente a un aumento dell'appetito e del consumo di calorie?",
                                "Come sfida il concetto di dispendio energetico totale limitato le visioni tradizionali sulla gestione del peso?"
                            ]
                        },
                        {
                            type: 'data',
                            content: [
                                "Il corpo puÃ² adattare il dispendio energetico per compensare l'aumento dell'attivitÃ  fisica.",
                                "Deficit energetici estremi possono disturbare l'equilibrio ormonale e la funzione riproduttiva.",
                                "La restrizione calorica puÃ² portare alla perdita di muscoli e adattamenti metabolici."
                            ]
                        }
                    ]
                },
                {
                    title: "Il Vantaggio della Resistenza: Esplorare i Limiti del Potenziale Umano",
                    buttonLabel: 'â±ï¸ Resistenza',
                    contentBlocks: [
                        {
                            type: 'questions',
                            content: [
                                "Quali sono i benefici e le limitazioni dell'utilizzo dei passi come misura dell'attivitÃ  fisica?",
                                "Come l'allenamento di resistenza influisce sulla fisiologia del corpo?",
                                "Quali sono le conseguenze a lungo termine dell'allenamento di resistenza?"
                            ]
                        },
                        {
                            type: 'data',
                            content: [
                                "Il conteggio dei passi non tiene conto dell'intensitÃ  o del tipo di movimento.",
                                "L'allenamento di resistenza porta ad adattamenti nel sistema cardiovascolare.",
                                "AttivitÃ  fisica varia Ã¨ piÃ¹ benefica che concentrarsi solo sui passi."
                            ]
                        }
                    ]
                },
                {
                    title: "L'Atleta Anziano: Come l'Esercizio Influenza la LongevitÃ  e la Salute",
                    buttonLabel: 'ðŸ‘´ LongevitÃ ',
                    contentBlocks: [
                        {
                            type: 'questions',
                            content: [
                                "L'esercizio estende la durata della vita o migliora principalmente la salute riducendo il rischio di malattie legate all'etÃ ?",
                                "Quali sono i meccanismi fisiologici attraverso cui l'esercizio combatte il processo di invecchiamento?",
                                "Esistono 'dosaggi' ottimali di esercizio per massimizzare la longevitÃ  e la salute?"
                            ]
                        },
                        {
                            type: 'data',
                            content: [
                                "Mantenere alti livelli di attivitÃ  fisica puÃ² contribuire a un periodo di morbilitÃ  compressa.",
                                "L'esercizio ritarda o previene malattie legate all'etÃ  piÃ¹ che estendere la durata della vita.",
                                "Le risposte individuali all'esercizio variano; la genetica e lo stile di vita influenzano il dosaggio ottimale."
                            ]
                        }
                    ]
                },
                {
                    title: "Il Paradosso dell'Esercizio: PerchÃ© Lo Evitiamo e Come Superare l'Inerzia",
                    buttonLabel: 'ðŸ¤” Motivazione',
                    contentBlocks: [
                        {
                            type: 'questions',
                            content: [
                                "PerchÃ© gli esseri umani faticano spesso a mantenere routine di esercizio costanti?",
                                "Quali fattori psicologici e sociali influenzano la motivazione all'esercizio?",
                                "Quali sono alcune strategie efficaci per rendere l'esercizio piÃ¹ attraente e sostenibile?"
                            ]
                        },
                        {
                            type: 'data',
                            content: [
                                "L'esercizio rappresenta una spesa energetica che i nostri antenati evitavano.",
                                "La motivazione Ã¨ influenzata da fattori psicologici come il piacere e l'auto-efficacia.",
                                "Il supporto sociale puÃ² migliorare la motivazione e l'aderenza all'esercizio."
                            ]
                        }
                    ]
                },
                {
                    title: "Conclusioni e Riflessioni Finali",
                    buttonLabel: 'ðŸ“– Conclusioni',
                    contentBlocks: [
                        {
                            type: 'paragraphs',
                            content: [
                                "Si riassumono i temi principali trattati nel libro e si riflette sull'importanza dell'esercizio fisico nella vita quotidiana. L'integrazione di attivitÃ  fisica puÃ² migliorare non solo la salute fisica, ma anche il benessere mentale e sociale."
                            ]
                        }
                    ]
                }
            ],
            bookDetails: {
                image: '/index_files/ff.webp', // Replace with your actual image path
                title: 'Exercised',
                author: 'Daniel Lieberman',
                year: '2020',
                pages: '464',
                link: 'https://example.com/buy', // Replace with your actual link
                offerCoffeeLink: 'https://example.com/coffee' // Replace with your actual link
            }
        };

        // Since the content is in Italian, we can set the language to 'it' by default
        let currentLanguage = 'it';

        // Get DOM elements
        const buttonsContainer = document.getElementById('buttons-container');
        const cardsWrapper = document.getElementById('cards-wrapper');
        const progressBar = document.querySelector('.progress-bar');

        let cards = [];
        let currentIndex = 0;

        function initializeApp() {
            buttonsContainer.innerHTML = '';
            cardsWrapper.innerHTML = '';
            cards = [];
            currentIndex = 0;

            const { chapters, bookDetails } = content;

            // Create buttons and cards for chapters
            chapters.forEach((chapter, index) => {
                createButton(chapter.buttonLabel, index);
                createCard(chapter);
            });

            // Create "Book Details" button and card
            createButton('ðŸ“– Dettagli', chapters.length);
            createBookCard(bookDetails);

            // Initialize to show the first card
            showCard(0);
        }

        // Function to create a button
        function createButton(label, index) {
            const button = document.createElement('div');
            button.className = 'button';
            button.textContent = label;
            button.addEventListener('click', () => {
                showCard(index);
            });
            buttonsContainer.appendChild(button);
        }

        // Function to create a content block
        function createContentBlock(type, contents) {
            const div = document.createElement('div');
            div.className = `content-block ${type}`;

            contents.forEach(item => {
                const p = document.createElement('p');
                p.textContent = item;
                div.appendChild(p);
            });

            return div;
        }

        // Function to create a card
        function createCard(chapter) {
            const card = document.createElement('div');
            card.className = 'card';

            const cardContent = document.createElement('div');
            cardContent.className = 'card-content';

            const title = document.createElement('h2');
            title.className = 'section-title';
            title.textContent = chapter.title;
            cardContent.appendChild(title);

            chapter.contentBlocks.forEach(block => {
                const contentBlock = createContentBlock(block.type, block.content);
                cardContent.appendChild(contentBlock);
            });

            card.appendChild(cardContent);

            cardsWrapper.appendChild(card);
            cards.push(card);
        }

        // Function to create the book details card
        function createBookCard(bookDetails) {
            const card = document.createElement('div');
            card.className = 'card';

            const cardContent = document.createElement('div');
            cardContent.className = 'card-content book-details';

            cardContent.innerHTML = `
                <img src="${bookDetails.image}" alt="Book Cover" style="width:100%; height:auto; border-radius: 10px;">
                <h2>${bookDetails.title}</h2>
                <p>Autore: ${bookDetails.author}</p>
                <p>Anno: ${bookDetails.year}</p>
                <p>Pagine: ${bookDetails.pages}</p>
                <button class="action-button" onclick="window.open('${bookDetails.link}', '_blank')">ðŸ“– Acquista il libro</button>
                <button class="action-button" onclick="window.open('${bookDetails.offerCoffeeLink}', '_blank')">â˜• Offrimi un caffÃ¨</button>
            `;

            card.appendChild(cardContent);

            cardsWrapper.appendChild(card);
            cards.push(card);
        }

        // Function to display a specific card
        function showCard(index) {
            currentIndex = index;
            cardsWrapper.style.transform = `translateX(-${index * 100}%)`;
            const progress = ((index + 1) / cards.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // Swipe functionality
        let startX = 0;
        let isDown = false;

        const cardsContainer = document.querySelector('.cards-container');

        // Touch events for mobile
        cardsContainer.addEventListener('touchstart', touchStart, false);
        cardsContainer.addEventListener('touchmove', touchMove, false);
        cardsContainer.addEventListener('touchend', touchEnd, false);

        function touchStart(evt) {
            startX = evt.touches[0].clientX;
            isDown = true;
            cardsWrapper.style.transition = 'none';
        }

        function touchMove(evt) {
            if (!isDown) return;
            const x = evt.touches[0].clientX;
            const deltaX = x - startX;
            const percentage = (deltaX / window.innerWidth) * 100;
            const offset = -currentIndex * 100 + percentage;
            cardsWrapper.style.transform = `translateX(${offset}%)`;
        }

        function touchEnd(evt) {
            if (!isDown) return;
            isDown = false;
            const endX = evt.changedTouches[0].clientX;
            const deltaX = endX - startX;
            if (deltaX < -50 && currentIndex < cards.length - 1) {
                currentIndex++;
            } else if (deltaX > 50 && currentIndex > 0) {
                currentIndex--;
            }
            cardsWrapper.style.transition = 'transform 0.5s ease-in-out';
            showCard(currentIndex);
        }

        // Mouse events for desktop
        cardsContainer.addEventListener('mousedown', mouseDown, false);
        cardsContainer.addEventListener('mousemove', mouseMove, false);
        cardsContainer.addEventListener('mouseup', mouseUp, false);
        cardsContainer.addEventListener('mouseleave', mouseUp, false);

        function mouseDown(evt) {
            startX = evt.clientX;
            isDown = true;
            cardsWrapper.style.transition = 'none';
        }

        function mouseMove(evt) {
            if (!isDown) return;
            const x = evt.clientX;
            const deltaX = x - startX;
            const percentage = (deltaX / window.innerWidth) * 100;
            const offset = -currentIndex * 100 + percentage;
            cardsWrapper.style.transform = `translateX(${offset}%)`;
        }

        function mouseUp(evt) {
            if (!isDown) return;
            isDown = false;
            const endX = evt.clientX;
            const deltaX = endX - startX;
            if (deltaX < -50 && currentIndex < cards.length - 1) {
                currentIndex++;
            } else if (deltaX > 50 && currentIndex > 0) {
                currentIndex--;
            }
            cardsWrapper.style.transition = 'transform 0.5s ease-in-out';
            showCard(currentIndex);
        }

        // Initialize the app after the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', () => {
            initializeApp();
        });
    </script>
</body>
</html>
