<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Exercised - Riepilogo del Libro</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Import Montserrat font from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <!-- Favicon -->
    <link rel="icon" href="/index_files/ff.webp" type="image/webp">
    <link rel="apple-touch-icon" href="/index_files/ff.webp">
    <style>
        /* Root variables */
        :root {
            --theme-color: #ADD8E6; /* Light blue */
            --question-color: #B3E5FC; /* Lighter blue */
            --data-color: #81D4FA; /* Medium blue */
            --quote-color: #4FC3F7; /* Darker blue */
            --progress-bar-color: #4CAF50; /* Green */
        }

        /* Basic styles */
        body {
            margin: 0;
            font-family: 'Montserrat', sans-serif;
            background-color: #fff;
            color: #333;
            overflow: hidden; /* Prevent scrolling on body */
        }

        /* App container */
        .app-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        /* Header with logo, buttons, and language switch */
        .header {
            display: flex;
            align-items: center;
            background-color: var(--theme-color);
            padding: 10px;
            flex-shrink: 0;
            flex-wrap: nowrap;
        }

        .logo {
            height: 40px;
            cursor: pointer;
            flex-shrink: 0;
            margin-right: 10px;
        }

        .language-switch {
            background-color: transparent;
            border: none;
            font-size: 24px;
            cursor: pointer;
            flex-shrink: 0;
            margin-left: 10px;
        }

        /* Buttons container inside header */
        .buttons-container {
            display: flex;
            overflow-x: auto;
            flex-grow: 1;
        }

        .buttons-container::-webkit-scrollbar {
            display: none; /* Hide scrollbar */
        }

        /* Buttons */
        .button {
            flex: 0 0 auto;
            margin: 0 5px;
            padding: 8px 12px;
            background-color: #fff;
            color: #333;
            border-radius: 20px;
            text-align: center;
            font-size: 14px;
            cursor: pointer;
            user-select: none;
            white-space: nowrap;
        }

        /* Progress bar */
        .progress-bar {
            height: 5px;
            background-color: var(--progress-bar-color);
            width: 0%;
            transition: width 0.5s ease-in-out;
            flex-shrink: 0;
        }

        /* Cards container */
        .cards-container {
            flex: 1;
            overflow: hidden;
            position: relative;
        }

        /* Cards wrapper for sliding effect */
        .cards-wrapper {
            display: flex;
            height: 100%;
            transition: transform 0.5s ease-in-out;
        }

        /* Individual card */
        .card {
            flex: 0 0 100%;
            height: 100%;
            overflow: hidden;
            background-color: #fff;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
        }

        /* Card content */
        .card-content {
            flex: 1;
            overflow-y: auto;
            padding: 10px 20px 30px 20px; /* Adjusted padding */
            box-sizing: border-box;
            max-width: 450px;
            margin: 0 auto;
        }

        /* Section styles */
        .section-title {
            margin-top: 10px;
            margin-bottom: 10px;
            font-size: 20px;
            font-weight: bold;
        }

        /* Content block */
        .content-block {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 10px;
            word-wrap: break-word; /* Prevent overflow of long words */
            font-size: 16px;
            font-weight: bold;
        }

        .questions {
            background-color: var(--question-color);
        }

        .data {
            background-color: var(--data-color);
        }

        .quotes {
            background-color: var(--quote-color);
        }

        .paragraphs {
            background-color: #e0f7fa; /* Light cyan */
            font-weight: normal;
        }

        /* Hide scrollbars on card content */
        .card-content::-webkit-scrollbar {
            width: 0px;
            background: transparent;
        }

        /* Footer */
        footer {
            text-align: center;
            font-size: 16px;
            font-family: 'Montserrat', sans-serif;
            padding: 10px;
            background-color: #f0f0f0;
        }

        footer a {
            color: #00bef8;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header with logo and buttons -->
        <div class="header">
            <a href="https://futurofortissimo.github.io/">
                <img src="/index_files/ff.webp" alt="Logo" class="logo">
            </a>
            <!-- Buttons inside header -->
            <div class="buttons-container" id="buttons-container">
                <!-- Buttons will be dynamically inserted here -->
            </div>
        </div>

        <!-- Progress bar -->
        <div class="progress-bar"></div>

        <!-- Cards -->
        <div class="cards-container">
            <div class="cards-wrapper" id="cards-wrapper">
                <!-- Cards will be dynamically inserted here -->
            </div>
        </div>
    </div>

    <footer>
        <p><a href="https://linktr.ee/micmer">michele merelli</a> per
        <a href="https://fortissimo.substack.com/">futuro fortissimo</a></p>
    </footer>

    <script>
        // Content data
        const content = {
        chapters: [
            {
                title: "The Intertwined Relationship Between Diet and Mental Health",
                buttonLabel: 'üß† Diet & Mental Health',
                contentBlocks: [
                    {
                        type: 'paragraphs',
                        content: [
                            "Poor dietary choices contribute to a rise in mental health problems, while mental health issues often lead to unhealthy eating habits. This two-way relationship highlights the critical link between what we consume and our mental well-being. In the past, medical practitioners recognized a holistic connection between the body and mind. However, as medicine advanced and became more specialized, the focus shifted to individual organs, leading to a diminished understanding of the interconnectedness between various bodily systems, including the gut and brain.",
                            "Despite being physically separate, the gut and brain maintain constant communication through the vagus nerve, also referred to as the \"wanderer nerve.\" This nerve originates in the brain stem and extends to the gut, acting as a critical pathway for signals between these two organs.",
                            "Serotonin, a key chemical deficient in the brains of depressed and anxious people, plays a major role in regulating the gut-brain axis. Serotonin is one of the most buzzed-about brain chemicals because of its role in mood and emotion, but did you know that more than 90 percent of serotonin receptors are found in the gut?",
                            "Much like the intricate relationship between the gut and brain that forms the basis of this book, diet and mental health are inextricably linked, and the connection between them goes both ways: a dearth of good dietary choices leads to an increase in mental health issues, and mental health issues in turn lead to poor eating habits.",
                            "However, in the late nineteenth century, doctors changed their perspective. As medicine became more specialized, we lost track of the big picture, only looking at single organs to determine what was wrong and what needed fixing.",
                            "While your gut and brain are housed in different parts of your body, they maintain more than just a historical connection. They remain physically connected too. The vagus nerve, also known as the ‚Äúwanderer nerve‚Äù, originates in the brain stem and travels all the way to the gut."
                        ]
                    },
                    {
                        type: 'questions',
                        content: [
                            "How are diet and mental health connected?",
                            "What is the historical context of the gut-brain connection?",
                            "How does the gut communicate with the brain?"
                        ]
                    },
                    {
                        type: 'data',
                        content: [
                            "More than 90% of serotonin receptors, which are crucial for mood regulation, are located in the gut.",
                            "The gut plays a significant role in the fight-or-flight response by regulating adrenaline and noradrenaline.",
                            "A single gut can contain up to 1,000 different bacterial species.",
                            "Firmicutes and Bacteroides constitute approximately 75% of the entire microbiome.",
                            "Mood changes are linked to altered bacterial populations in conditions like irritable bowel syndrome (IBS) and inflammatory bowel disease (IBD).",
                            "The brain requires only 62 grams of glucose over 24 hours.",
                            "A study by Westover and Marangell (2002) revealed a significant correlation between sugar consumption and depression."
                        ]
                    }
                ]
            },
            {
                title: "The Impact of Diet on Depression",
                buttonLabel: 'üòû Depression & Diet',
                contentBlocks: [
                    {
                        type: 'paragraphs',
                        content: [
                            "When stressed or feeling down, reaching for comfort food is a common response. However, this often involves consuming foods high in fat and sugar, which can negatively affect the gut microbiome and potentially worsen depression. Gut bacteria play a crucial role in producing many of the brain chemicals that influence mood. When dietary choices lead to a less diverse gut microbiome, harmful bacteria can proliferate, potentially contributing to the development or exacerbation of depression.",
                            "To combat depression, a balanced diet rich in prebiotics and probiotics is essential. Prebiotics, found in foods like beans, oats, and bananas, nourish beneficial gut bacteria. Probiotics, present in fermented foods like yogurt and kefir, introduce live beneficial bacteria into the gut, promoting a healthy and balanced microbiome.",
                            "Much like the intricate relationship between the gut and brain that forms the basis of this book, diet and mental health are inextricably linked, and the connection between them goes both ways: a dearth of good dietary choices leads to an increase in mental health issues, and mental health issues in turn lead to poor eating habits."
                        ]
                    },
                    {
                        type: 'questions',
                        content: [
                            "How does diet influence depression?",
                            "What is the role of the microbiome in depression?",
                            "What are some dietary recommendations for managing depression?"
                        ]
                    },
                    {
                        type: 'data',
                        content: [
                            "A study found that individuals with higher folate levels experienced lower levels of depression.",
                            "Consuming 125-300mg of magnesium has been linked to a reduction in major depression symptoms, often within a week.",
                            "Zinc supplements have been shown to alleviate depressive symptoms, potentially by reducing brain inflammation.",
                            "A meta-analysis of 17 studies found lower blood zinc concentrations in depressed individuals compared to controls.",
                            "The brain needs a minimum of 62 grams of glucose per day to function correctly; excessive sugar can be detrimental to mental health.",
                            "Research suggests a strong correlation between high sugar intake and depression.",
                            "Omega-3 fatty acids, abundant in fatty fish, flaxseeds, and walnuts, play a vital role in brain health and may help alleviate depressive symptoms."
                        ]
                    }
                ]
            },
            {
                title: "Dietary Strategies for Managing Anxiety",
                buttonLabel: 'üòü Anxiety & Diet',
                contentBlocks: [
                    {
                        type: 'paragraphs',
                        content: [
                            "Research shows that only 50-60% of individuals with anxiety experience relief from medication and psychotherapy, with only a quarter achieving complete symptom resolution. This highlights the need for exploring alternative and complementary approaches like dietary modifications.",
                            "Studies have shown that germ-free mice, lacking a gut microbiome, have larger amygdalae, the brain region responsible for fear and anxiety, compared to mice with a normal microbiome. This suggests a crucial role of gut bacteria in regulating anxiety responses.",
                            "Consuming fermented foods rich in probiotics can help foster a healthy gut microbiome, potentially reducing anxiety symptoms. Increasing dietary fiber intake, abundant in fruits, vegetables, and whole grains, may also lower the risk of anxiety.",
                            "Your brain has an alarm that is constantly going off. Research has shown that germ-free mice (meaning they lack all microorganisms and therefore have no gut microbiome) have larger amygdalae than mice with normal microbiomes.",
                            "There are several approaches to treating anxiety, only 50‚Äì60 percent of people respond to medication and psychotherapy, and only a quarter of patients have complete resolution of their symptoms."
                        ]
                    },
                    {
                        type: 'questions',
                        content: [
                            "What is the connection between anxiety and the gut-brain axis?",
                            "How can specific food choices help alleviate anxiety symptoms?",
                            "What are some common dietary triggers for anxiety?"
                        ]
                    },
                    {
                        type: 'data',
                        content: [
                            "Research suggests that dietary fiber may help reduce the risk of depression, anxiety, and stress.",
                            "Omega-3s can suppress the anxiety-inducing effects of interleukin-1, an inflammatory marker, in the brain.",
                            "High-fat diets, particularly those rich in saturated fats, have been linked to increased anxiety in animal studies.",
                            "Caffeine, while a stimulant, can worsen anxiety in some individuals, especially at doses above 400mg per day.",
                            "Consuming purified tryptophan supplements has been shown to increase brain serotonin levels in humans. However, consuming tryptophan-rich foods alone may not have the same effect due to how tryptophan is transported to the brain.",
                            "Dietary intake of magnesium is often inadequate in Western populations, with 68% of Americans and 72% of middle-aged French adults consuming insufficient amounts."
                        ]
                    }
                ]
            },
            {
                title: "The Influence of Diet on PTSD and Cognitive Function",
                buttonLabel: 'üß† PTSD & Cognition',
                contentBlocks: [
                    {
                        type: 'paragraphs',
                        content: [
                            "Individuals with PTSD often face challenges in making healthy food choices, especially when dealing with trauma, as their cognitive bandwidth is overwhelmed by processing traumatic experiences. This can lead to a cycle of unhealthy eating habits, further impacting their mental and physical well-being.",
                            "Chronic stress, often associated with PTSD, leads to elevated cortisol levels, disrupting memory recall. Maintaining a balanced gut microbiome through a healthy diet can help regulate cortisol levels and mitigate the negative impact of stress on memory.",
                            "Consuming a diet rich in antioxidants, found in colorful fruits and vegetables, can protect the brain from oxidative stress, potentially improving cognitive function and memory.",
                            "When you don‚Äôt have trauma to deal with, you have enough brain capacity to take the time to make healthy choices.",
                            "Although the large diet soda sounded harmless, it had more than 100 mg of caffeine in it. As we learned in chapter 3, caffeine can worsen anxiety.",
                            "Stress hormone cortisol can disrupt your ability to recall long-term memories, and as we‚Äôve covered before, your gut bacteria affect blood cortisol levels by regulating the hypothalamic-pituitary-adrenal axis.",
                            "Noradrenaline enhances memory, especially when emotions are running high."
                        ]
                    },
                    {
                        type: 'questions',
                        content: [
                            "How does diet impact individuals experiencing PTSD?",
                            "What specific dietary factors can positively or negatively influence cognitive function?",
                            "What dietary patterns are recommended for supporting brain health and memory?"
                        ]
                    },
                    {
                        type: 'data',
                        content: [
                            "High saturated fat intake has been linked to impaired hippocampal function and memory in animal studies.",
                            "Restricting calories by 35% showed improvements in memory among healthy elderly individuals after three months.",
                            "London taxi drivers, known for their exceptional spatial memory, have been found to have larger hippocampi.",
                            "A large meal from a fast food chain can contain approximately 1,000 calories, about double the recommended intake, especially for those with diabetes.",
                            "High caffeine intake (over 100mg) can worsen anxiety, potentially affecting cognitive function.",
                            "Olive oil, a staple of the Mediterranean diet, contains over 30 phenolic compounds that act as antioxidants and protect the brain.",
                            "Acrylamide, found in coffee, can negatively affect memory. Dark-roasted, fresh coffee beans generally have the lowest acrylamide content."
                        ]
                    }
                ]
            },
            {
                title: "Diet's Role in Sleep, Fatigue, Bipolar Disorder, and Schizophrenia",
                buttonLabel: 'üí§ Sleep & Mental Health',
                contentBlocks: [
                    {
                        type: 'paragraphs',
                        content: [
                            "Sleep deprivation, affecting nearly a third of the global population, can significantly impact mental health. The balance of bacteria in the gut is critical for healthy sleep, with disruptions to this balance potentially leading to sleep disturbances.",
                            "Consuming a high-glycemic-index carbohydrate meal before bed might lead to faster sleep onset, but the sleep quality may be poorer. On the other hand, high protein intake (more than 19%) has been associated with difficulty maintaining sleep.",
                            "Close to a third of the world‚Äôs population has trouble sleeping. Maintaining the delicate balance of bacteria in your gut is crucial for healthy sleep.",
                            "Breaking up sleep patterns changes gut bacteria in mice.",
                            "Poor sleep quality was also more common in people who consumed energy drinks and sugar-sweetened beverages, and those who skipped breakfast and ate irregularly.",
                            "Consuming 400mg of caffeine (equivalent to four cups of coffee) close to bedtime significantly disrupts sleep quality.",
                            "Alcohol, while a sedative, disrupts the normal sleep cycle and suppresses REM sleep, crucial for mental performance.",
                            "Omega-3 fatty acids have been shown to reduce inflammation and improve sleep quality in animal studies.",
                            "Some fatty acids contribute to melatonin production, a hormone crucial for regulating sleep-wake cycles."
                        ]
                    },
                    {
                        type: 'questions',
                        content: [
                            "How does diet impact sleep quality and fatigue levels?",
                            "What dietary interventions are recommended for managing bipolar disorder and schizophrenia?",
                            "How does caffeine consumption influence mental health conditions?"
                        ]
                    },
                    {
                        type: 'data',
                        content: [
                            "Roughly 33% of Americans sleep less than 6 hours per night.",
                            "Consuming 400mg of caffeine (equivalent to four cups of coffee) close to bedtime significantly disrupts sleep.",
                            "Omega-3 fatty acids have been shown to reduce inflammation and improve sleep quality in animal studies.",
                            "Some fatty acids contribute to melatonin production, a hormone crucial for regulating sleep-wake cycles."
                        ]
                    }
                ]
            }
        ],
        bookDetails: {
            image: '/libri/food-mood.png', // Replace with your actual image path
            title: 'Gut-Brain Revolution',
            author: 'Daniel Lieberman',
            year: '2023',
            pages: '512',
            link: 'https://example.com/buy', // Replace with your actual link
            offerCoffeeLink: 'https://example.com/coffee' // Replace with your actual link
        }
    };
        // Initialize the app
        let currentIndex = 0;

        // Get DOM elements
        const buttonsContainer = document.getElementById('buttons-container');
        const cardsWrapper = document.getElementById('cards-wrapper');
        const progressBar = document.querySelector('.progress-bar');

        let cards = [];

        function initializeApp() {
            buttonsContainer.innerHTML = '';
            cardsWrapper.innerHTML = '';
            cards = [];
            currentIndex = 0;

            const { chapters, bookDetails } = content;

            // Create buttons and cards for chapters
            chapters.forEach((chapter, index) => {
                createButton(chapter.buttonLabel, index);
                createCard(chapter);
            });

            // Create "Book Details" button and card
            createButton('üìñ Dettagli', chapters.length);
            createBookCard(bookDetails);

            // Initialize to show the first card
            showCard(0);
        }

        // Function to create a button
        function createButton(label, index) {
            const button = document.createElement('div');
            button.className = 'button';
            button.textContent = label;
            button.addEventListener('click', () => {
                showCard(index);
            });
            buttonsContainer.appendChild(button);
        }

        // Function to create a content block
        function createContentBlock(type, contents) {
            const div = document.createElement('div');
            div.className = `content-block ${type}`;

            contents.forEach(item => {
                const p = document.createElement('p');
                p.textContent = item;
                div.appendChild(p);
            });

            return div;
        }

        // Function to create a card
        function createCard(chapter) {
            const card = document.createElement('div');
            card.className = 'card';

            const cardContent = document.createElement('div');
            cardContent.className = 'card-content';

            const title = document.createElement('h2');
            title.className = 'section-title';
            title.textContent = chapter.title;
            cardContent.appendChild(title);

            chapter.contentBlocks.forEach(block => {
                const contentBlock = createContentBlock(block.type, block.content);
                cardContent.appendChild(contentBlock);
            });

            card.appendChild(cardContent);

            cardsWrapper.appendChild(card);
            cards.push(card);
        }

        // Function to create the book details card
        function createBookCard(bookDetails) {
            const card = document.createElement('div');
            card.className = 'card';

            const cardContent = document.createElement('div');
            cardContent.className = 'card-content book-details';

            cardContent.innerHTML = `
                <img src="${bookDetails.image}" alt="Book Cover" style="width:100%; height:auto; border-radius: 10px;">
                <h2>${bookDetails.title}</h2>
                <p>Autore: ${bookDetails.author}</p>
                <p>Anno: ${bookDetails.year}</p>
                <p>Pagine: ${bookDetails.pages}</p>
                <button class="action-button" onclick="window.open('${bookDetails.link}', '_blank')">üìñ Acquista il libro</button>
                <button class="action-button" onclick="window.open('${bookDetails.offerCoffeeLink}', '_blank')">‚òï Offrimi un caff√®</button>
            `;

            card.appendChild(cardContent);

            cardsWrapper.appendChild(card);
            cards.push(card);
        }

        // Function to display a specific card
        function showCard(index) {
            currentIndex = index;
            cardsWrapper.style.transform = `translateX(-${index * 100}%)`;
            const progress = ((index + 1) / cards.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // Swipe functionality
        let startX = 0;
        let isDown = false;

        const cardsContainer = document.querySelector('.cards-container');

        // Touch events for mobile
        cardsContainer.addEventListener('touchstart', touchStart, false);
        cardsContainer.addEventListener('touchmove', touchMove, false);
        cardsContainer.addEventListener('touchend', touchEnd, false);

        function touchStart(evt) {
            startX = evt.touches[0].clientX;
            isDown = true;
            cardsWrapper.style.transition = 'none';
        }

        function touchMove(evt) {
            if (!isDown) return;
            const x = evt.touches[0].clientX;
            const deltaX = x - startX;
            const percentage = (deltaX / window.innerWidth) * 100;
            const offset = -currentIndex * 100 + percentage;
            cardsWrapper.style.transform = `translateX(${offset}%)`;
        }

        function touchEnd(evt) {
            if (!isDown) return;
            isDown = false;
            const endX = evt.changedTouches[0].clientX;
            const deltaX = endX - startX;
            if (deltaX < -50 && currentIndex < cards.length - 1) {
                currentIndex++;
            } else if (deltaX > 50 && currentIndex > 0) {
                currentIndex--;
            }
            cardsWrapper.style.transition = 'transform 0.5s ease-in-out';
            showCard(currentIndex);
        }

        // Mouse events for desktop
        cardsContainer.addEventListener('mousedown', mouseDown, false);
        cardsContainer.addEventListener('mousemove', mouseMove, false);
        cardsContainer.addEventListener('mouseup', mouseUp, false);
        cardsContainer.addEventListener('mouseleave', mouseUp, false);

        function mouseDown(evt) {
            startX = evt.clientX;
            isDown = true;
            cardsWrapper.style.transition = 'none';
        }

        function mouseMove(evt) {
            if (!isDown) return;
            const x = evt.clientX;
            const deltaX = x - startX;
            const percentage = (deltaX / window.innerWidth) * 100;
            const offset = -currentIndex * 100 + percentage;
            cardsWrapper.style.transform = `translateX(${offset}%)`;
        }

        function mouseUp(evt) {
            if (!isDown) return;
            isDown = false;
            const endX = evt.clientX;
            const deltaX = endX - startX;
            if (deltaX < -50 && currentIndex < cards.length - 1) {
                currentIndex++;
            } else if (deltaX > 50 && currentIndex > 0) {
                currentIndex--;
            }
            cardsWrapper.style.transition = 'transform 0.5s ease-in-out';
            showCard(currentIndex);
        }

        // Initialize the app after the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', () => {
            initializeApp();
        });
    </script>
</body>
</html>
