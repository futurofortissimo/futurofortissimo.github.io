<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Exercised - Riepilogo del Libro</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Import Montserrat font from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <!-- Favicon -->
    <link rel="icon" href="/index_files/ff.webp" type="image/webp">
    <link rel="apple-touch-icon" href="/index_files/ff.webp">
    <style>
        /* Root variables */
        :root {
            --theme-color: #ADD8E6; /* Light blue */
            --question-color: #B3E5FC; /* Lighter blue */
            --data-color: #81D4FA; /* Medium blue */
            --quote-color: #4FC3F7; /* Darker blue */
            --progress-bar-color: #4CAF50; /* Green */
        }

        /* Basic styles */
        body {
            margin: 0;
            font-family: 'Montserrat', sans-serif;
            background-color: #fff;
            color: #333;
            overflow: hidden; /* Prevent scrolling on body */
        }

        /* App container */
        .app-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        /* Header with logo, buttons, and language switch */
        .header {
            display: flex;
            align-items: center;
            background-color: var(--theme-color);
            padding: 10px;
            flex-shrink: 0;
            flex-wrap: nowrap;
        }

        .logo {
            height: 40px;
            cursor: pointer;
            flex-shrink: 0;
            margin-right: 10px;
        }

        .language-switch {
            background-color: transparent;
            border: none;
            font-size: 24px;
            cursor: pointer;
            flex-shrink: 0;
            margin-left: 10px;
        }

        /* Buttons container inside header */
        .buttons-container {
            display: flex;
            overflow-x: auto;
            flex-grow: 1;
        }

        .buttons-container::-webkit-scrollbar {
            display: none; /* Hide scrollbar */
        }

        /* Buttons */
        .button {
            flex: 0 0 auto;
            margin: 0 5px;
            padding: 8px 12px;
            background-color: #fff;
            color: #333;
            border-radius: 20px;
            text-align: center;
            font-size: 14px;
            cursor: pointer;
            user-select: none;
            white-space: nowrap;
        }

        /* Progress bar */
        .progress-bar {
            height: 5px;
            background-color: var(--progress-bar-color);
            width: 0%;
            transition: width 0.5s ease-in-out;
            flex-shrink: 0;
        }

        /* Cards container */
        .cards-container {
            flex: 1;
            overflow: hidden;
            position: relative;
        }

        /* Cards wrapper for sliding effect */
        .cards-wrapper {
            display: flex;
            height: 100%;
            transition: transform 0.5s ease-in-out;
        }

        /* Individual card */
        .card {
            flex: 0 0 100%;
            height: 100%;
            overflow: hidden;
            background-color: #fff;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
        }

        /* Card content */
        .card-content {
            flex: 1;
            overflow-y: auto;
            padding: 10px 20px 30px 20px; /* Adjusted padding */
            box-sizing: border-box;
            max-width: 450px;
            margin: 0 auto;
        }

        /* Section styles */
        .section-title {
            margin-top: 10px;
            margin-bottom: 10px;
            font-size: 20px;
            font-weight: bold;
        }

        /* Content block */
        .content-block {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 10px;
            word-wrap: break-word; /* Prevent overflow of long words */
            font-size: 16px;
            font-weight: bold;
        }

        .questions {
            background-color: var(--question-color);
        }

        .data {
            background-color: var(--data-color);
        }

        .quotes {
            background-color: var(--quote-color);
        }

        .paragraphs {
            background-color: #e0f7fa; /* Light cyan */
            font-weight: normal;
        }

        /* Hide scrollbars on card content */
        .card-content::-webkit-scrollbar {
            width: 0px;
            background: transparent;
        }

        /* Footer */
        footer {
            text-align: center;
            font-size: 16px;
            font-family: 'Montserrat', sans-serif;
            padding: 10px;
            background-color: #f0f0f0;
        }

        footer a {
            color: #00bef8;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header with logo, buttons, and language switch -->
        <div class="header">
            <a href="https://futurofortissimo.github.io/">
                <img src="/index_files/ff.webp" alt="Logo" class="logo">
            </a>
            <!-- Buttons inside header -->
            <div class="buttons-container" id="buttons-container">
                <!-- Buttons will be dynamically inserted here -->
            </div>
            <button class="language-switch" id="language-switch">ðŸ‡¬ðŸ‡§</button>
        </div>

        <!-- Progress bar -->
        <div class="progress-bar"></div>

        <!-- Cards -->
        <div class="cards-container">
            <div class="cards-wrapper" id="cards-wrapper">
                <!-- Cards will be dynamically inserted here -->
            </div>
        </div>
    </div>

    <footer>
        <p><a href="https://linktr.ee/micmer">michele merelli</a> per
        <a href="https://fortissimo.substack.com/">futuro fortissimo</a></p>
    </footer>

    <script>
        // Content data in Italian and English
        const content = {
            it: {
                chapters: [
                    {
                        title: "La Relazione tra Dieta e Salute Mentale",
                        buttonLabel: 'ðŸ§  Dieta & Mente',
                        contentBlocks: [
                            {
                                type: 'paragraphs',
                                content: [
                                    "Le scelte alimentari povere contribuiscono a un aumento dei problemi di salute mentale, mentre le questioni mentali spesso portano a abitudini alimentari non salutari. Questa relazione bidirezionale evidenzia il legame critico tra ciÃ² che consumiamo e il nostro benessere mentale. In passato, i medici riconoscevano una connessione olistica tra corpo e mente. Tuttavia, con l'avanzare della medicina e la sua specializzazione, l'attenzione si Ã¨ spostata su organi individuali, portando a una comprensione diminuita dell'interconnessione tra vari sistemi corporei, inclusi intestino e cervello.",
                                    "Nonostante siano fisicamente separati, intestino e cervello mantengono una comunicazione costante attraverso il nervo vago, noto anche come \"nervo vagabondo\". Questo nervo origina nel tronco cerebrale e si estende fino all'intestino, fungendo da via critica per i segnali tra questi due organi.",
                                    "La serotonina, una sostanza chimica chiave carente nei cervelli delle persone depresse e ansiose, svolge un ruolo importante nel regolare l'asse intestino-cervello. PiÃ¹ del 90% dei recettori della serotonina si trova nell'intestino."
                                ]
                            },
                            {
                                type: 'questions',
                                content: [
                                    "Come sono collegati dieta e salute mentale?",
                                    "Qual Ã¨ il contesto storico della connessione intestino-cervello?",
                                    "Come comunica l'intestino con il cervello?"
                                ]
                            },
                            {
                                type: 'data',
                                content: [
                                    "Oltre il 90% dei recettori della serotonina, cruciali per la regolazione dell'umore, si trova nell'intestino.",
                                    "L'intestino gioca un ruolo significativo nella risposta di lotta o fuga regolando adrenalina e noradrenalina.",
                                    "Un singolo intestino puÃ² contenere fino a 1.000 diverse specie batteriche.",
                                    "Firmicutes e Bacteroides costituiscono circa il 75% dell'intero microbioma.",
                                    "Cambiamenti dell'umore sono collegati ad alterazioni delle popolazioni batteriche in condizioni come la sindrome dell'intestino irritabile (IBS) e le malattie infiammatorie intestinali (IBD).",
                                    "Il cervello richiede solo 62 grammi di glucosio in 24 ore.",
                                    "Uno studio di Westover e Marangell (2002) ha rivelato una correlazione significativa tra consumo di zucchero e depressione."
                                ]
                            }
                        ]
                    },
                    {
                        title: "L'Impatto della Dieta sulla Depressione",
                        buttonLabel: 'ðŸ˜ž Depressione & Dieta',
                        contentBlocks: [
                            {
                                type: 'paragraphs',
                                content: [
                                    "Quando siamo stressati o giÃ¹ di morale, Ã¨ comune cercare cibo di conforto. Tuttavia, questo spesso comporta il consumo di alimenti ricchi di grassi e zuccheri, che possono influenzare negativamente il microbioma intestinale e potenzialmente peggiorare la depressione. I batteri intestinali giocano un ruolo cruciale nella produzione di molte delle sostanze chimiche cerebrali che influenzano l'umore. Quando le scelte alimentari portano a un microbioma intestinale meno diversificato, i batteri nocivi possono proliferare, contribuendo allo sviluppo o all'esacerbazione della depressione.",
                                    "Per combattere la depressione, Ã¨ essenziale una dieta equilibrata ricca di prebiotici e probiotici. I prebiotici, presenti in alimenti come fagioli, avena e banane, nutrono i batteri intestinali benefici. I probiotici, presenti in alimenti fermentati come yogurt e kefir, introducono batteri benefici vivi nell'intestino, promuovendo un microbioma sano ed equilibrato."
                                ]
                            },
                            {
                                type: 'questions',
                                content: [
                                    "Come influenza la dieta la depressione?",
                                    "Qual Ã¨ il ruolo del microbioma nella depressione?",
                                    "Quali sono alcune raccomandazioni dietetiche per gestire la depressione?"
                                ]
                            },
                            {
                                type: 'data',
                                content: [
                                    "Uno studio ha trovato che individui con livelli piÃ¹ alti di folato sperimentavano livelli piÃ¹ bassi di depressione.",
                                    "Consumare 125-300 mg di magnesio Ã¨ stato collegato a una riduzione dei sintomi della depressione maggiore, spesso entro una settimana.",
                                    "Gli integratori di zinco hanno dimostrato di alleviare i sintomi depressivi, potenzialmente riducendo l'infiammazione cerebrale.",
                                    "Una meta-analisi di 17 studi ha trovato concentrazioni di zinco nel sangue piÃ¹ basse in individui depressi rispetto ai controlli.",
                                    "Il cervello ha bisogno di un minimo di 62 grammi di glucosio al giorno per funzionare correttamente; un eccesso di zucchero puÃ² essere dannoso per la salute mentale.",
                                    "La ricerca suggerisce una forte correlazione tra alto consumo di zucchero e depressione.",
                                    "Gli acidi grassi omega-3, abbondanti in pesce grasso, semi di lino e noci, svolgono un ruolo vitale nella salute cerebrale e possono aiutare ad alleviare i sintomi depressivi."
                                ]
                            }
                        ]
                    },
                    {
                        title: "Strategie Dietetiche per Gestire l'Ansia",
                        buttonLabel: 'ðŸ˜Ÿ Ansia & Dieta',
                        contentBlocks: [
                            {
                                type: 'paragraphs',
                                content: [
                                    "La ricerca mostra che solo il 50-60% delle persone con ansia sperimenta sollievo da farmaci e psicoterapia, con solo un quarto che raggiunge una completa risoluzione dei sintomi. CiÃ² evidenzia la necessitÃ  di esplorare approcci alternativi e complementari come le modifiche dietetiche.",
                                    "Studi hanno dimostrato che i topi privi di germi, privi di un microbioma intestinale, hanno amigdale piÃ¹ grandi, la regione cerebrale responsabile della paura e dell'ansia, rispetto ai topi con un microbioma normale. CiÃ² suggerisce un ruolo cruciale dei batteri intestinali nella regolazione delle risposte ansiose.",
                                    "Consumare alimenti fermentati ricchi di probiotici puÃ² aiutare a favorire un microbioma intestinale sano, potenzialmente riducendo i sintomi dell'ansia. Aumentare l'assunzione di fibre alimentari, abbondanti in frutta, verdura e cereali integrali, puÃ² anche ridurre il rischio di ansia."
                                ]
                            },
                            {
                                type: 'questions',
                                content: [
                                    "Qual Ã¨ la connessione tra ansia e asse intestino-cervello?",
                                    "Come possono specifiche scelte alimentari aiutare ad alleviare i sintomi dell'ansia?",
                                    "Quali sono alcuni comuni trigger dietetici per l'ansia?"
                                ]
                            },
                            {
                                type: 'data',
                                content: [
                                    "La ricerca suggerisce che le fibre alimentari possono aiutare a ridurre il rischio di depressione, ansia e stress.",
                                    "Gli omega-3 possono sopprimere gli effetti ansiogeni dell'interleuchina-1, un marker infiammatorio, nel cervello.",
                                    "Diete ad alto contenuto di grassi, in particolare ricche di grassi saturi, sono state collegate a un aumento dell'ansia negli studi sugli animali.",
                                    "La caffeina, pur essendo uno stimolante, puÃ² peggiorare l'ansia in alcune persone, specialmente a dosi superiori a 400 mg al giorno.",
                                    "Il consumo di integratori di triptofano ha dimostrato di aumentare i livelli di serotonina cerebrale negli esseri umani. Tuttavia, consumare alimenti ricchi di triptofano da soli potrebbe non avere lo stesso effetto a causa di come il triptofano viene trasportato al cervello.",
                                    "L'assunzione dietetica di magnesio Ã¨ spesso inadeguata nelle popolazioni occidentali, con il 68% degli americani e il 72% degli adulti francesi di mezza etÃ  che consumano quantitÃ  insufficienti."
                                ]
                            }
                        ]
                    },
                    {
                        title: "L'Influenza della Dieta sul PTSD e la Funzione Cognitiva",
                        buttonLabel: 'ðŸ§  PTSD & Cognizione',
                        contentBlocks: [
                            {
                                type: 'paragraphs',
                                content: [
                                    "Le persone con PTSD spesso affrontano sfide nel fare scelte alimentari sane, specialmente quando affrontano traumi, poichÃ© la loro capacitÃ  cognitiva Ã¨ sopraffatta dall'elaborazione di esperienze traumatiche. CiÃ² puÃ² portare a un ciclo di abitudini alimentari non salutari, influenzando ulteriormente il loro benessere mentale e fisico.",
                                    "Lo stress cronico, spesso associato al PTSD, porta a livelli elevati di cortisolo, disturbando il richiamo della memoria. Mantenere un microbioma intestinale equilibrato attraverso una dieta sana puÃ² aiutare a regolare i livelli di cortisolo e mitigare l'impatto negativo dello stress sulla memoria.",
                                    "Consumare una dieta ricca di antiossidanti, presenti in frutta e verdura colorate, puÃ² proteggere il cervello dallo stress ossidativo, potenzialmente migliorando la funzione cognitiva e la memoria."
                                ]
                            },
                            {
                                type: 'questions',
                                content: [
                                    "Come influisce la dieta su individui che sperimentano PTSD?",
                                    "Quali fattori dietetici specifici possono influenzare positivamente o negativamente la funzione cognitiva?",
                                    "Quali modelli dietetici sono raccomandati per supportare la salute cerebrale e la memoria?"
                                ]
                            },
                            {
                                type: 'data',
                                content: [
                                    "Un elevato consumo di grassi saturi Ã¨ stato collegato a un funzionamento ippocampale e una memoria compromessi negli studi sugli animali.",
                                    "La restrizione calorica del 35% ha mostrato miglioramenti nella memoria tra gli anziani sani dopo tre mesi.",
                                    "I tassisti di Londra, noti per la loro eccezionale memoria spaziale, hanno un ippocampo piÃ¹ grande.",
                                    "Un pasto abbondante da una catena di fast food puÃ² contenere circa 1.000 calorie, circa il doppio dell'assunzione raccomandata, specialmente per chi ha il diabete.",
                                    "Un alto consumo di caffeina (oltre 100 mg) puÃ² peggiorare l'ansia, influenzando potenzialmente la funzione cognitiva.",
                                    "L'olio d'oliva, un pilastro della dieta mediterranea, contiene oltre 30 composti fenolici che agiscono come antiossidanti e proteggono il cervello.",
                                    "L'acrilamide, presente nel caffÃ¨, puÃ² influenzare negativamente la memoria. I chicchi di caffÃ¨ tostati scuri e freschi generalmente hanno il contenuto di acrilamide piÃ¹ basso."
                                ]
                            }
                        ]
                    },
                    {
                        title: "Il Ruolo della Dieta nel Sonno, Affaticamento, Disturbo Bipolare e Schizofrenia",
                        buttonLabel: 'ðŸ’¤ Sonno & Salute Mentale',
                        contentBlocks: [
                            {
                                type: 'paragraphs',
                                content: [
                                    "La privazione del sonno, che colpisce quasi un terzo della popolazione mondiale, puÃ² influenzare significativamente la salute mentale. L'equilibrio dei batteri nell'intestino Ã¨ fondamentale per un sonno sano, con interruzioni di questo equilibrio che possono portare a disturbi del sonno.",
                                    "Consumare un pasto ricco di carboidrati ad alto indice glicemico prima di dormire potrebbe portare a un addormentamento piÃ¹ rapido, ma la qualitÃ  del sonno potrebbe essere inferiore. D'altra parte, un'elevata assunzione di proteine (oltre il 19%) Ã¨ stata associata a difficoltÃ  nel mantenere il sonno.",
                                    "Consumare 400 mg di caffeina (equivalente a quattro tazze di caffÃ¨) vicino all'ora di andare a letto interrompe significativamente la qualitÃ  del sonno.",
                                    "L'alcol, pur essendo un sedativo, disturba il normale ciclo del sonno e sopprime il sonno REM, cruciale per le prestazioni mentali.",
                                    "Gli acidi grassi omega-3 hanno dimostrato di ridurre l'infiammazione e migliorare la qualitÃ  del sonno negli studi sugli animali.",
                                    "Alcuni acidi grassi contribuiscono alla produzione di melatonina, un ormone cruciale per regolare i cicli sonno-veglia."
                                ]
                            },
                            {
                                type: 'questions',
                                content: [
                                    "Come influisce la dieta sulla qualitÃ  del sonno e sui livelli di affaticamento?",
                                    "Quali interventi dietetici sono raccomandati per gestire il disturbo bipolare e la schizofrenia?",
                                    "Come influisce il consumo di caffeina sulle condizioni di salute mentale?"
                                ]
                            },
                            {
                                type: 'data',
                                content: [
                                    "Circa il 33% degli americani dorme meno di 6 ore per notte.",
                                    "Consumare 400 mg di caffeina (equivalente a quattro tazze di caffÃ¨) vicino all'ora di andare a letto interrompe significativamente il sonno.",
                                    "Gli acidi grassi omega-3 hanno dimostrato di ridurre l'infiammazione e migliorare la qualitÃ  del sonno negli studi sugli animali.",
                                    "Alcuni acidi grassi contribuiscono alla produzione di melatonina, un ormone cruciale per regolare i cicli sonno-veglia."
                                ]
                            }
                        ]
                    }
                ],
                bookDetails: {
                    image: '/libri/food-mood.png', // Replace with your actual image path
                    title: 'Gut-Brain Revolution',
                    author: 'Daniel Lieberman',
                    year: '2023',
                    pages: '512',
                    link: 'https://example.com/buy', // Replace with your actual link
                    offerCoffeeLink: 'https://example.com/coffee' // Replace with your actual link
                }
            },
            en: {
                // Original English content goes here (same as the provided content)
                chapters: [
                    // ... (English content)
                ],
                bookDetails: {
                    image: '/libri/food-mood.png',
                    title: 'Gut-Brain Revolution',
                    author: 'Daniel Lieberman',
                    year: '2023',
                    pages: '512',
                    link: 'https://example.com/buy',
                    offerCoffeeLink: 'https://example.com/coffee'
                }
            }
        };

        let currentLanguage = 'it';

        // Initialize the app
        let currentIndex = 0;

        // Get DOM elements
        const buttonsContainer = document.getElementById('buttons-container');
        const cardsWrapper = document.getElementById('cards-wrapper');
        const progressBar = document.querySelector('.progress-bar');
        const languageSwitch = document.getElementById('language-switch');

        let cards = [];

        function initializeApp() {
            buttonsContainer.innerHTML = '';
            cardsWrapper.innerHTML = '';
            cards = [];
            currentIndex = 0;

            const { chapters, bookDetails } = content[currentLanguage];

            // Create buttons and cards for chapters
            chapters.forEach((chapter, index) => {
                createButton(chapter.buttonLabel, index);
                createCard(chapter);
            });

            // Create "Book Details" button and card
            const detailsLabel = currentLanguage === 'it' ? 'ðŸ“– Dettagli' : 'ðŸ“– Details';
            createButton(detailsLabel, chapters.length);
            createBookCard(bookDetails);

            // Initialize to show the first card
            showCard(0);
        }

        // Function to create a button
        function createButton(label, index) {
            const button = document.createElement('div');
            button.className = 'button';
            button.textContent = label;
            button.addEventListener('click', () => {
                showCard(index);
            });
            buttonsContainer.appendChild(button);
        }

        // Function to create a content block
        function createContentBlock(type, contents) {
            const div = document.createElement('div');
            div.className = `content-block ${type}`;

            contents.forEach(item => {
                const p = document.createElement('p');
                p.textContent = item;
                div.appendChild(p);
            });

            return div;
        }

        // Function to create a card
        function createCard(chapter) {
            const card = document.createElement('div');
            card.className = 'card';

            const cardContent = document.createElement('div');
            cardContent.className = 'card-content';

            const title = document.createElement('h2');
            title.className = 'section-title';
            title.textContent = chapter.title;
            cardContent.appendChild(title);

            chapter.contentBlocks.forEach(block => {
                const contentBlock = createContentBlock(block.type, block.content);
                cardContent.appendChild(contentBlock);
            });

            card.appendChild(cardContent);

            cardsWrapper.appendChild(card);
            cards.push(card);
        }

        // Function to create the book details card
        function createBookCard(bookDetails) {
            const card = document.createElement('div');
            card.className = 'card';

            const cardContent = document.createElement('div');
            cardContent.className = 'card-content book-details';

            const buyText = currentLanguage === 'it' ? 'ðŸ“– Acquista il libro' : 'ðŸ“– Buy this book';
            const coffeeText = currentLanguage === 'it' ? 'â˜• Offrimi un caffÃ¨' : 'â˜• Buy me a coffee';
            const authorText = currentLanguage === 'it' ? 'Autore' : 'Author';
            const yearText = currentLanguage === 'it' ? 'Anno' : 'Year';
            const pagesText = currentLanguage === 'it' ? 'Pagine' : 'Pages';

            cardContent.innerHTML = `
                <img src="${bookDetails.image}" alt="Book Cover" style="width:100%; height:auto; border-radius: 10px;">
                <h2>${bookDetails.title}</h2>
                <p>${authorText}: ${bookDetails.author}</p>
                <p>${yearText}: ${bookDetails.year}</p>
                <p>${pagesText}: ${bookDetails.pages}</p>
                <button class="action-button" onclick="window.open('${bookDetails.link}', '_blank')">${buyText}</button>
                <button class="action-button" onclick="window.open('${bookDetails.offerCoffeeLink}', '_blank')">${coffeeText}</button>
            `;

            card.appendChild(cardContent);

            cardsWrapper.appendChild(card);
            cards.push(card);
        }

        // Function to display a specific card
        function showCard(index) {
            currentIndex = index;
            cardsWrapper.style.transform = `translateX(-${index * 100}%)`;
            const progress = ((index + 1) / cards.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // Swipe functionality
        let startX = 0;
        let isDown = false;

        const cardsContainer = document.querySelector('.cards-container');

        // Touch events for mobile
        cardsContainer.addEventListener('touchstart', touchStart, false);
        cardsContainer.addEventListener('touchmove', touchMove, false);
        cardsContainer.addEventListener('touchend', touchEnd, false);

        function touchStart(evt) {
            startX = evt.touches[0].clientX;
            isDown = true;
            cardsWrapper.style.transition = 'none';
        }

        function touchMove(evt) {
            if (!isDown) return;
            const x = evt.touches[0].clientX;
            const deltaX = x - startX;
            const percentage = (deltaX / window.innerWidth) * 100;
            const offset = -currentIndex * 100 + percentage;
            cardsWrapper.style.transform = `translateX(${offset}%)`;
        }

        function touchEnd(evt) {
            if (!isDown) return;
            isDown = false;
            const endX = evt.changedTouches[0].clientX;
            const deltaX = endX - startX;
            if (deltaX < -50 && currentIndex < cards.length - 1) {
                currentIndex++;
            } else if (deltaX > 50 && currentIndex > 0) {
                currentIndex--;
            }
            cardsWrapper.style.transition = 'transform 0.5s ease-in-out';
            showCard(currentIndex);
        }

        // Mouse events for desktop
        cardsContainer.addEventListener('mousedown', mouseDown, false);
        cardsContainer.addEventListener('mousemove', mouseMove, false);
        cardsContainer.addEventListener('mouseup', mouseUp, false);
        cardsContainer.addEventListener('mouseleave', mouseUp, false);

        function mouseDown(evt) {
            startX = evt.clientX;
            isDown = true;
            cardsWrapper.style.transition = 'none';
        }

        function mouseMove(evt) {
            if (!isDown) return;
            const x = evt.clientX;
            const deltaX = x - startX;
            const percentage = (deltaX / window.innerWidth) * 100;
            const offset = -currentIndex * 100 + percentage;
            cardsWrapper.style.transform = `translateX(${offset}%)`;
        }

        function mouseUp(evt) {
            if (!isDown) return;
            isDown = false;
            const endX = evt.clientX;
            const deltaX = endX - startX;
            if (deltaX < -50 && currentIndex < cards.length - 1) {
                currentIndex++;
            } else if (deltaX > 50 && currentIndex > 0) {
                currentIndex--;
            }
            cardsWrapper.style.transition = 'transform 0.5s ease-in-out';
            showCard(currentIndex);
        }

        // Language switch functionality
        languageSwitch.addEventListener('click', () => {
            currentLanguage = currentLanguage === 'it' ? 'en' : 'it';
            languageSwitch.textContent = currentLanguage === 'it' ? 'ðŸ‡¬ðŸ‡§' : 'ðŸ‡®ðŸ‡¹';
            initializeApp();
        });

        // Initialize the app after the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', () => {
            initializeApp();
        });
    </script>
</body>
</html>
