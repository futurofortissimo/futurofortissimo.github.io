<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Food-Mood Connection - Riepilogo del Libro</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Import Montserrat font from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <!-- Favicon -->
    <link rel="icon" href="/index_files/ff.webp" type="image/webp">
    <link rel="apple-touch-icon" href="/index_files/ff.webp">
    <style>
        /* Root variables */
        :root {
            --theme-color: #ADD8E6; /* Light blue */
            --question-color: #B3E5FC; /* Lighter blue */
            --data-color: #81D4FA; /* Medium blue */
            --quote-color: #4FC3F7; /* Darker blue */
            --progress-bar-color: #4CAF50; /* Green */
        }

        /* Basic styles */
        body {
            margin: 0;
            font-family: 'Montserrat', sans-serif;
            background-color: #fff;
            color: #333;
            overflow: hidden; /* Prevent scrolling on body */
        }

        /* App container */
        .app-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        /* Header with logo, buttons, and language switch */
        .header {
            display: flex;
            align-items: center;
            background-color: var(--theme-color);
            padding: 10px;
            flex-shrink: 0;
            flex-wrap: nowrap;
        }

        .logo {
            height: 40px;
            cursor: pointer;
            flex-shrink: 0;
            margin-right: 10px;
        }

        .language-switch {
            background-color: transparent;
            border: none;
            font-size: 24px;
            cursor: pointer;
            flex-shrink: 0;
            margin-left: 10px;
        }

        /* Buttons container inside header */
        .buttons-container {
            display: flex;
            overflow-x: auto;
            flex-grow: 1;
        }

        .buttons-container::-webkit-scrollbar {
            display: none; /* Hide scrollbar */
        }

        /* Buttons */
        .button {
            flex: 0 0 auto;
            margin: 0 5px;
            padding: 8px 12px;
            background-color: #fff;
            color: #333;
            border-radius: 20px;
            text-align: center;
            font-size: 14px;
            cursor: pointer;
            user-select: none;
            white-space: nowrap;
        }

        /* Progress bar */
        .progress-bar {
            height: 5px;
            background-color: var(--progress-bar-color);
            width: 0%;
            transition: width 0.5s ease-in-out;
            flex-shrink: 0;
        }

        /* Cards container */
        .cards-container {
            flex: 1;
            overflow: hidden;
            position: relative;
        }

        /* Cards wrapper for sliding effect */
        .cards-wrapper {
            display: flex;
            height: 100%;
            transition: transform 0.5s ease-in-out;
        }

        /* Individual card */
        .card {
            flex: 0 0 100%;
            height: 100%;
            overflow: hidden;
            background-color: #fff;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
        }

        /* Card content */
        .card-content {
            flex: 1;
            overflow-y: auto;
            padding: 10px 20px 30px 20px; /* Adjusted padding */
            box-sizing: border-box;
            max-width: 450px;
            margin: 0 auto;
        }

        /* Section styles */
        .section-title {
            margin-top: 10px;
            margin-bottom: 10px;
            font-size: 20px;
            font-weight: bold;
        }

        /* Content block */
        .content-block {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 10px;
            word-wrap: break-word; /* Prevent overflow of long words */
            font-size: 16px;
        }

        .question {
            background-color: var(--question-color);
            font-weight: bold;
        }

        .answer {
            background-color: var(--data-color);
            font-weight: normal;
        }

        .quote {
            background-color: var(--quote-color);
            font-style: italic;
        }

        /* Hide scrollbars on card content */
        .card-content::-webkit-scrollbar {
            width: 0px;
            background: transparent;
        }

        /* Action button styles */
        .action-button {
            padding: 10px 20px;
            margin: 5px 0;
            background-color: var(--theme-color);
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            width: 100%;
        }

        .action-button:hover {
            background-color: #7ec0ee; /* Slightly darker blue */
        }

        /* Footer */
        footer {
            text-align: center;
            font-size: 16px;
            font-family: 'Montserrat', sans-serif;
            padding: 10px;
            background-color: #f0f0f0;
        }

        footer a {
            color: #00bef8;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header with logo, buttons, and language switch -->
        <div class="header">
            <a href="https://futurofortissimo.github.io/">
                <img src="/index_files/ff.png" alt="Logo" class="logo">
            </a>
            <!-- Buttons inside header with Emojis -->
            <div class="buttons-container" id="buttons-container">
                <!-- Buttons will be dynamically inserted here with emojis -->
            </div>
            <button class="language-switch" id="language-switch">ðŸ‡¬ðŸ‡§</button>
        </div>

        <!-- Progress bar -->
        <div class="progress-bar"></div>

        <!-- Cards -->
        <div class="cards-container">
            <div class="cards-wrapper" id="cards-wrapper">
                <!-- Cards will be dynamically inserted here -->
            </div>
        </div>
    </div>

    <footer>
        <p><a href="https://linktr.ee/micmer">michele merelli</a> per
        <a href="https://fortissimo.substack.com/">futuro fortissimo</a></p>
    </footer>

    <script>
        // Content data in Italian and English with updated explanations
        const content = {
        "en": {
            "topics": [
                {
                    "topic": "The Significance of Spermidine",
                    "emoji": "ðŸ§¬",
                    "question": "How does spermidine impact longevity, and what are the best sources of this compound?",
                    "answer": "Research has revealed that **spermidine**, a natural polyamine, is a strong predictor of **longevity**. Found abundantly in **vegetables**, spermidine plays a vital role in cellular processes like **autophagy**. Individuals with a higher spermidine intake exhibit a mortality rate comparable to those **5.7 years younger**. Interestingly, while **animal products** are often associated with spermidine, **wheat germ** stands out as a cost-effective and readily available source. A study in Turkey even identified **white bread** as a leading source of spermidine. The average spermidine intake is about **10 mg per day**, with some Asian and European countries, particularly those around the **Mediterranean**, reaching **13 mg** or more, while the United States lags at **8 mg**. These findings highlight the potential of **dietary modification**, specifically incorporating spermidine-rich foods, to influence lifespan.",
                    "quote": "Researchers looked at 146 different nutrients in their diet, and the component most predictive of longevity was spermidine."
                },
                {
                    "topic": "Impact of Diet on Hair Loss",
                    "emoji": "ðŸ–",
                    "question": "Can dietary choices affect hair loss, and what surprising findings have emerged from research?",
                    "answer": "Genetics and hormones are recognized contributors to **hair loss**, but research suggests that **diet** can also play a significant role. **Population studies** reveal intriguing correlations between **dietary habits** and pattern baldness. Consuming **meat** and **junk food** is linked with an increased risk, whereas a diet rich in **raw vegetables**, **fresh herbs**, and **regular soymilk** consumption demonstrates a protective effect. A striking **case report** documents a completely bald man experiencing full **hair regrowth** after a **fecal transplant**, highlighting a potential connection between the **gut microbiome** and **hair health**. In a study comparing **pumpkin seed oil** to **minoxidil** (a common hair loss medication), both treatments were effective for **female pattern hair loss**, although minoxidil was more effective despite being five times more expensive.",
                    "quote": "Population studies have found that pattern baldness is associated with poor sleeping habits and the consumption of meat and junk food, whereas protective associations were found for the consumption of raw vegetables and fresh herbs, as well as frequent intake of soymilk."
                },
                {
                    "topic": "Surprising Factors Affecting Aging",
                    "emoji": "ðŸ•°ï¸",
                    "question": "What unexpected factors, beyond genetics, can influence the aging process?",
                    "answer": "Aging is a **multifactorial** process influenced by a complex interplay of factors, and research has uncovered several surprising elements that can impact its progression. Contrary to the notion that **exercise** might accelerate cellular aging, studies have shown that both **exercise frequency** and **intensity** are associated with a **slower aging rate**. Surprisingly, **meditation**, often praised for its health benefits, did not show a significant impact on aging rates in a study involving **two months** of daily practice. **Environmental pollutants**, like by-products of banned pesticides (e.g., **DDT**) and long-term **air pollution**, have been linked to **accelerated aging**. These findings emphasize the interconnectedness between our **environment**, **lifestyle choices**, and the aging process.",
                    "quote": "In contrast, both exercise frequency and intensity are associated with a deceleration of aging. What about meditation? Two months of daily practice failed to significantly affect aging rates,"
                },
                {
                    "topic": "Dangers of Aluminum Cookware",
                    "emoji": "ðŸ³",
                    "question": "Can common household items pose a risk for DNA damage, and how can we minimize potential risks?",
                    "answer": "While often overlooked, seemingly harmless **household items** can contribute to **DNA damage**. Research shows that cooking or storing **acidic foods** (e.g., **yogurt**, **tomato-based sauces**) in **aluminum cookware** is linked to increased DNA damage. Limiting the use of aluminum cookware, especially with **acidic ingredients**, could protect **cellular health**. Safer alternatives like **stainless steel**, **cast iron**, or **glass cookware** are available.",
                    "quote": "Those who cook and store acidic foods like yogurt and tomato in aluminum cookware suffer significantly more DNA damage"
                },
                {
                    "topic": "Protein Intake and Longevity",
                    "emoji": "ðŸ—",
                    "question": "What are the implications of protein source and quantity on longevity, and what surprising insights have emerged?",
                    "answer": "Protein is essential for building and maintaining **muscle mass**, but excessive intake, particularly from **animal sources**, is linked to **accelerated aging**. **IGF-1**, a hormone crucial for growth in early life, can promote aging when chronically elevated in adulthood. **Animal proteins** significantly elevate IGF-1 levels, while **plant-based proteins** have a less pronounced impact. Even **moderate intake**, like a single serving of **chicken breast** per day, can notably increase IGF-1 levels. This underscores the need to **moderate protein intake** and prioritize **plant-based sources** for healthy aging. The recommended daily protein intake is approximately **50g**, with **46g for women** and **56g for men**. In one study, researchers reduced the protein intake of men consuming **112g daily** (double the recommended amount) to **64g**, still exceeding the recommended amount. This reduction resulted in a doubling of **FGF21 levels** in their blood within about six weeks.",
                    "quote": "Even a single serving of chicken breast a day would be expected to significantly raise IGF-1 levels in the blood."
                },
                {
                    "topic": "Gut Microbiome and Aging",
                    "emoji": "ðŸ¦ ",
                    "question": "How does the gut microbiome influence the aging process, and what remarkable finding has surfaced from centenarian studies?",
                    "answer": "The **gut microbiome**, a complex ecosystem of microorganisms in our **digestive tract**, plays a crucial role in various health aspects, including **aging**. Recent research reveals a fascinating connection between the gut microbiome and **longevity**. In a groundbreaking study, mice transplanted with the gut microbiome of **centenarians** displayed **youthful physiological characteristics**, including reduced **age-related pigment accumulation** in their brains. This suggests the potential for manipulating the gut microbiome to promote **healthy aging** in humans, possibly through methods like **fecal matter transplantation**.",
                    "quote": "Mice transplanted with the centenarian microbiome ended up displaying a range of youthful physiological indicators, including less age pigment in their brains. This raises the possibility that we will one day be using centenarian fecal matter to promote healthy aging"
                },
                {
                    "topic": "Unconventional Dietary Strategies for Longevity",
                    "emoji": "ðŸ¥—",
                    "question": "Beyond conventional dietary recommendations, what alternative strategies show promise for extending lifespan?",
                    "answer": "A balanced diet rich in **fruits**, **vegetables**, and **whole grains** is recognized for its health benefits. Research has illuminated **unconventional dietary strategies** that might contribute to **longevity**. **Calorie restriction**, a significant reduction in calorie intake without malnutrition, consistently extends lifespan in various organisms, though its applicability and practicality for humans are debated. **Alternate-day fasting**, alternating between days of **normal eating** and severely restricted calorie intake/**fasting**, is linked to various health benefits, including potential **anti-aging effects**. This could be attributed to its influence on cellular processes like **autophagy** and its impact on the **pro-aging amino acid methionine**.",
                    "quote": "The purported pro-longevity benefits of alternate-day fasting, for instance, have been ascribed to the periodic depletion of the â€œpro-aging amino-acid methionine."
                }
            ]
        },
        "it": {
            "topics": [
                {
                    "topic": "La Significanza della Spermidina",
                    "emoji": "ðŸ§¬",
                    "question": "Come influisce la spermidina sulla longevitÃ  e quali sono le migliori fonti di questo composto?",
                    "answer": "La ricerca ha rivelato che la **spermidina**, una poliammina naturale, Ã¨ un forte predittore della **longevitÃ **. Abbondante nelle **verdure**, la spermidina svolge un ruolo vitale nei processi cellulari come l'**autofagia**. Gli individui con un'assunzione maggiore di spermidina mostrano un tasso di mortalitÃ  comparabile a quello di persone **5,7 anni piÃ¹ giovani**. Ãˆ interessante notare che, mentre i **prodotti animali** sono spesso associati alla spermidina, il **germe di grano** si distingue come fonte economica e facilmente reperibile. Uno studio in Turchia ha identificato anche il **pane bianco** come una delle principali fonti di spermidina. L'assunzione media di spermidina Ã¨ di circa **10 mg al giorno**, con alcuni paesi asiatici ed europei, in particolare quelli del **Mediterraneo**, che raggiungono **13 mg** o piÃ¹, mentre gli Stati Uniti si attestano a **8 mg**. Questi risultati evidenziano il potenziale della **modificazione dietetica**, specificamente l'incorporazione di alimenti ricchi di spermidina, per influenzare la durata della vita.",
                    "quote": "I ricercatori hanno esaminato 146 nutrienti diversi nella loro dieta e il componente piÃ¹ predittivo della longevitÃ  Ã¨ stata la spermidina."
                },
                {
                    "topic": "Impatto della Dieta sulla Perdita dei Capelli",
                    "emoji": "ðŸ–",
                    "question": "Le scelte alimentari possono influenzare la perdita dei capelli e quali sorprendenti scoperte sono emerse dalla ricerca?",
                    "answer": "La genetica e gli ormoni sono riconosciuti come fattori che contribuiscono alla **perdita dei capelli**, ma la ricerca suggerisce che anche la **dieta** puÃ² svolgere un ruolo significativo. Gli **studi di popolazione** rivelano interessanti correlazioni tra **abitudini alimentari** e calvizie a schema. Il consumo di **carne** e **cibo spazzatura** Ã¨ associato a un rischio aumentato, mentre una dieta ricca di **verdure crude**, **erbe fresche** e consumo regolare di **soymilk** dimostra un effetto protettivo. Un sorprendente **caso clinico** documenta un uomo completamente calvo che ha sperimentato una **ricrescita completa dei capelli** dopo un **trapianto fecale**, evidenziando una possibile connessione tra il **microbioma intestinale** e la **salute dei capelli**. In uno studio che confrontava l'**olio di semi di zucca** con il **minoxidil** (un comune farmaco per la perdita dei capelli), entrambi i trattamenti si sono dimostrati efficaci per la **calvizie femminile**, sebbene il minoxidil fosse piÃ¹ efficace nonostante fosse cinque volte piÃ¹ costoso.",
                    "quote": "Gli studi di popolazione hanno trovato che la calvizie a schema Ã¨ associata a cattive abitudini di sonno e al consumo di carne e cibo spazzatura, mentre associazioni protettive sono state trovate per il consumo di verdure crude e erbe fresche, nonchÃ© per l'assunzione frequente di soymilk."
                },
                {
                    "topic": "Fattori Sorprendenti che Influenzano l'Invecchiamento",
                    "emoji": "ðŸ•°ï¸",
                    "question": "Quali fattori inaspettati, oltre alla genetica, possono influenzare il processo di invecchiamento?",
                    "answer": "L'**invecchiamento** Ã¨ un processo **multifattoriale** influenzato da una complessa interazione di fattori, e la ricerca ha scoperto diversi elementi sorprendenti che possono impattare la sua progressione. Contrariamente alla nozione che l'**esercizio fisico** possa accelerare l'invecchiamento cellulare, gli studi hanno dimostrato che sia la **frequenza** che l'**intensitÃ ** dell'esercizio sono associate a un **rallentamento del tasso di invecchiamento**. Sorprendentemente, la **meditazione**, spesso lodata per i suoi benefici sulla salute, non ha mostrato un impatto significativo sui tassi di invecchiamento in uno studio che ha coinvolto **due mesi** di pratica quotidiana. **Inquinanti ambientali**, come i sottoprodotti di pesticidi vietati (ad esempio, **DDT**) e l'**inquinamento atmosferico** a lungo termine, sono stati collegati a un **accelerato invecchiamento**. Questi risultati enfatizzano l'interconnessione tra il nostro **ambiente**, le **scelte di stile di vita** e il processo di invecchiamento.",
                    "quote": "Al contrario, sia la frequenza che l'intensitÃ  dell'esercizio sono associate a un decelerazione dell'invecchiamento. E la meditazione? Due mesi di pratica quotidiana non hanno influenzato significativamente i tassi di invecchiamento,"
                },
                {
                    "topic": "Pericoli delle Pentole in Alluminio",
                    "emoji": "ðŸ³",
                    "question": "Gli oggetti domestici comuni possono rappresentare un rischio per il danno al DNA e come possiamo minimizzare i potenziali rischi?",
                    "answer": "Sebbene spesso trascurati, oggetti domestici apparentemente innocui possono contribuire al **danno al DNA**. La ricerca mostra che cucinare o conservare **alimenti acidi** (ad esempio, **yogurt**, **salse a base di pomodoro**) in **pentole di alluminio** Ã¨ collegato a un aumento del danno al DNA. Limitare l'uso di pentole in alluminio, soprattutto con ingredienti **acidi**, potrebbe proteggere la **salute cellulare**. Sono disponibili alternative piÃ¹ sicure come **acciaio inossidabile**, **ghisa** o **pentole di vetro**.",
                    "quote": "Chi cucina e conserva alimenti acidi come yogurt e pomodoro in pentole di alluminio soffre significativamente di piÃ¹ danni al DNA"
                },
                {
                    "topic": "Assunzione di Proteine e LongevitÃ ",
                    "emoji": "ðŸ—",
                    "question": "Quali sono le implicazioni della fonte e della quantitÃ  di proteine sulla longevitÃ  e quali sorprendenti intuizioni sono emerse?",
                    "answer": "Le proteine sono essenziali per costruire e mantenere la **massa muscolare**, ma un'assunzione eccessiva, in particolare da **fonti animali**, Ã¨ collegata a un **invecchiamento accelerato**. **IGF-1**, un ormone cruciale per la crescita nella prima etÃ , puÃ² promuovere l'invecchiamento quando Ã¨ cronicamente elevato nell'etÃ  adulta. Le **proteine animali** elevano significativamente i livelli di IGF-1, mentre le **proteine vegetali** hanno un impatto meno pronunciato. Anche un'assunzione **moderata**, come una singola porzione di **petto di pollo** al giorno, puÃ² aumentare notevolmente i livelli di IGF-1. Questo sottolinea la necessitÃ  di **moderare l'assunzione di proteine** e di dare prioritÃ  alle **fonti vegetali** per un invecchiamento sano. L'assunzione giornaliera raccomandata di proteine Ã¨ di circa **50g**, con **46g per le donne** e **56g per gli uomini**. In uno studio, i ricercatori hanno ridotto l'assunzione di proteine di uomini che consumavano **112g al giorno** (il doppio della quantitÃ  raccomandata) a **64g**, superando comunque la quantitÃ  raccomandata. Questa riduzione ha portato a un **raddoppio dei livelli di FGF21** nel loro sangue in circa sei settimane.",
                    "quote": "Anche una singola porzione di petto di pollo al giorno dovrebbe aumentare significativamente i livelli di IGF-1 nel sangue."
                },
                {
                    "topic": "Microbioma Intestinale e Invecchiamento",
                    "emoji": "ðŸ¦ ",
                    "question": "Come influenza il microbioma intestinale il processo di invecchiamento e quale scoperta notevole Ã¨ emersa dagli studi sui centenari?",
                    "answer": "Il **microbioma intestinale**, un complesso ecosistema di microrganismi nel nostro **tratto digestivo**, svolge un ruolo cruciale in vari aspetti della salute, incluso l'**invecchiamento**. Recenti ricerche rivelano una connessione affascinante tra il microbioma intestinale e la **longevitÃ **. In uno studio rivoluzionario, topi trapiantati con il microbioma intestinale di **centenari** hanno mostrato caratteristiche fisiologiche **giovane**, inclusa una riduzione dell'**accumulo di pigmenti legati all'etÃ ** nei loro cervelli. Questo suggerisce il potenziale di manipolare il microbioma intestinale per promuovere un **invecchiamento sano** negli esseri umani, possibilmente attraverso metodi come il **trapianto di materia fecale**.",
                    "quote": "Topi trapiantati con il microbioma dei centenari hanno finito per mostrare una serie di indicatori fisiologici giovanili, incluso meno pigmento d'etÃ  nei loro cervelli. Questo solleva la possibilitÃ  che un giorno utilizzeremo materia fecale di centenari per promuovere un invecchiamento sano"
                },
                {
                    "topic": "Strategie Dietetiche Non Convenzionali per la LongevitÃ ",
                    "emoji": "ðŸ¥—",
                    "question": "Oltre alle raccomandazioni dietetiche convenzionali, quali strategie alternative mostrano promettenti per estendere la durata della vita?",
                    "answer": "Una **dieta equilibrata** ricca di **frutta**, **verdure** e **cereali integrali** Ã¨ riconosciuta per i suoi benefici sulla salute. La ricerca ha illuminato **strategie dietetiche non convenzionali** che potrebbero contribuire alla **longevitÃ **. **Restrizione calorica**, una significativa riduzione dell'apporto calorico senza malnutrizione, estende costantemente la durata della vita in vari organismi, anche se la sua applicabilitÃ  e praticitÃ  per gli esseri umani sono dibattute. **Digiuno a giorni alterni**, alternando giorni di **alimentazione normale** e giorni di restrizione calorica severa/**digiuno**, Ã¨ collegato a vari benefici per la salute, inclusi potenziali effetti **anti-invecchiamento**. CiÃ² potrebbe essere attribuito alla sua influenza su processi cellulari come l'**autofagia** e al suo impatto sull'**aminoacido pro-invecchiamento metionina**.",
                    "quote": "I presunti benefici per la longevitÃ  del digiuno a giorni alterni, ad esempio, sono stati attribuiti al deperimento periodico dell'â€œaminoacido pro-invecchiamento metionina.â€"
                }
            ]
        }
    }




        let currentLanguage = 'it';

        // Initialize the app
        let currentIndex = 0;

        // Get DOM elements
        const buttonsContainer = document.getElementById('buttons-container');
        const cardsWrapper = document.getElementById('cards-wrapper');
        const progressBar = document.querySelector('.progress-bar');
        const languageSwitch = document.getElementById('language-switch');

        let cards = [];

        function initializeApp() {
            buttonsContainer.innerHTML = '';
            cardsWrapper.innerHTML = '';
            cards = [];
            currentIndex = 0;

            const { topics } = content[currentLanguage];

            // Create buttons and cards for topics
            topics.forEach((topic, index) => {
                createButton(topic.topic, index);
                createCard(topic);
            });

            // Initialize to show the first card
            showCard(0);
        }

        // Function to create a button with emoji
        function createButton(label, index) {
            const button = document.createElement('div');
            button.className = 'button';
            button.innerHTML = `${content[currentLanguage].topics[index].emoji} ${label}`;
            button.addEventListener('click', () => {
                showCard(index);
            });
            buttonsContainer.appendChild(button);
        }

        // Function to create a content block
        function createContentBlock(type, contentText) {
            const div = document.createElement('div');
            div.className = `content-block ${type}`;

            // Replace **text** with <strong>text</strong> for highlighting
            const formattedText = contentText.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            // Replace escaped quotes \"text\" with proper quotes
            const finalText = formattedText.replace(/\\\"/g, '"').replace(/\\'/g, "'");

            // Split the content by newline characters to create paragraphs
            const paragraphs = finalText.split('\n\n');

            paragraphs.forEach(paragraph => {
                const p = document.createElement('p');
                p.innerHTML = paragraph;
                div.appendChild(p);
            });

            return div;
        }

        // Function to create a card
        function createCard(topic) {
            const card = document.createElement('div');
            card.className = 'card';

            const cardContent = document.createElement('div');
            cardContent.className = 'card-content';

            // Add Question
            const questionBlock = createContentBlock('question', topic.question);
            cardContent.appendChild(questionBlock);

            // Add Answer (Explanation)
            const answerBlock = createContentBlock('answer', topic.answer);
            cardContent.appendChild(answerBlock);

            // Add Quote
            const quoteBlock = createContentBlock('quote', topic.quote);
            cardContent.appendChild(quoteBlock);

            card.appendChild(cardContent);
            cardsWrapper.appendChild(card);
            cards.push(card);
        }

        // Function to display a specific card
        function showCard(index) {
            // Ensure index is within bounds
            if (index < 0) index = 0;
            if (index >= cards.length) index = cards.length - 1;

            currentIndex = index;
            cardsWrapper.style.transform = `translateX(-${index * 100}%)`;
            const progress = ((index + 1) / cards.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // Swipe functionality
        let startX = 0;
        let isDown = false;

        const cardsContainer = document.querySelector('.cards-container');

        // Touch events for mobile
        cardsContainer.addEventListener('touchstart', touchStart, false);
        cardsContainer.addEventListener('touchmove', touchMove, false);
        cardsContainer.addEventListener('touchend', touchEnd, false);

        function touchStart(evt) {
            startX = evt.touches[0].clientX;
            isDown = true;
            cardsWrapper.style.transition = 'none';
        }

        function touchMove(evt) {
            if (!isDown) return;
            const x = evt.touches[0].clientX;
            const deltaX = x - startX;
            const percentage = (deltaX / window.innerWidth) * 100;
            const offset = -currentIndex * 100 + percentage;
            cardsWrapper.style.transform = `translateX(${offset}%)`;
        }

        function touchEnd(evt) {
            if (!isDown) return;
            isDown = false;
            const endX = evt.changedTouches[0].clientX;
            const deltaX = endX - startX;
            if (deltaX < -50 && currentIndex < cards.length - 1) {
                currentIndex++;
            } else if (deltaX > 50 && currentIndex > 0) {
                currentIndex--;
            }
            cardsWrapper.style.transition = 'transform 0.5s ease-in-out';
            showCard(currentIndex);
        }

        // Mouse events for desktop
        cardsContainer.addEventListener('mousedown', mouseDown, false);
        cardsContainer.addEventListener('mousemove', mouseMove, false);
        cardsContainer.addEventListener('mouseup', mouseUp, false);
        cardsContainer.addEventListener('mouseleave', mouseUp, false);

        function mouseDown(evt) {
            startX = evt.clientX;
            isDown = true;
            cardsWrapper.style.transition = 'none';
        }

        function mouseMove(evt) {
            if (!isDown) return;
            const x = evt.clientX;
            const deltaX = x - startX;
            const percentage = (deltaX / window.innerWidth) * 100;
            const offset = -currentIndex * 100 + percentage;
            cardsWrapper.style.transform = `translateX(${offset}%)`;
        }

        function mouseUp(evt) {
            if (!isDown) return;
            isDown = false;
            const endX = evt.clientX;
            const deltaX = endX - startX;
            if (deltaX < -50 && currentIndex < cards.length - 1) {
                currentIndex++;
            } else if (deltaX > 50 && currentIndex > 0) {
                currentIndex--;
            }
            cardsWrapper.style.transition = 'transform 0.5s ease-in-out';
            showCard(currentIndex);
        }

        // Language switch functionality
        languageSwitch.addEventListener('click', () => {
            currentLanguage = currentLanguage === 'it' ? 'en' : 'it';
            languageSwitch.textContent = currentLanguage === 'it' ? 'ðŸ‡¬ðŸ‡§' : 'ðŸ‡®ðŸ‡¹';
            initializeApp();
        });

        // Initialize the app after the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', () => {
            initializeApp();
        });
    </script>
</body>
</html>
