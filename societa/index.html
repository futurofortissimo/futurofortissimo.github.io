<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Futuro Fortissimo - Riepilogo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Import Montserrat font from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <!-- Favicon -->
    <link rel="icon" href="/index_files/ff.webp" type="image/webp">
    <link rel="apple-touch-icon" href="/index_files/ff.webp">
    <style>
        /* Root variables */
        :root {
            --theme-color: #ADD8E6; /* Light blue */
            --question-color: #B3E5FC; /* Lighter blue */
            --data-color: #81D4FA; /* Medium blue */
            --quote-color: #4FC3F7; /* Darker blue */
            --progress-bar-color: #4CAF50; /* Green */
        }

        /* Basic styles */
        body {
            margin: 0;
            font-family: 'Montserrat', sans-serif;
            background-color: #fff;
            color: #333;
            overflow: hidden; /* Prevent scrolling on body */
        }

        /* App container */
        .app-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        /* Header with logo, buttons, and language switch */
        .header {
            display: flex;
            align-items: center;
            background-color: var(--theme-color);
            padding: 10px;
            flex-shrink: 0;
            flex-wrap: nowrap;
        }

        .logo {
            height: 40px;
            cursor: pointer;
            flex-shrink: 0;
            margin-right: 10px;
        }

        .language-switch {
            background-color: transparent;
            border: none;
            font-size: 24px;
            cursor: pointer;
            flex-shrink: 0;
            margin-left: 10px;
        }

        /* Buttons container inside header */
        .buttons-container {
            display: flex;
            overflow-x: auto;
            flex-grow: 1;
        }

        .buttons-container::-webkit-scrollbar {
            display: none; /* Hide scrollbar */
        }

        /* Buttons */
        .button {
            flex: 0 0 auto;
            margin: 0 5px;
            padding: 8px 12px;
            background-color: #fff;
            color: #333;
            border-radius: 20px;
            text-align: center;
            font-size: 14px;
            cursor: pointer;
            user-select: none;
            white-space: nowrap;
        }

        /* Progress bar */
        .progress-bar {
            height: 5px;
            background-color: var(--progress-bar-color);
            width: 0%;
            transition: width 0.5s ease-in-out;
            flex-shrink: 0;
        }

        /* Cards container */
        .cards-container {
            flex: 1;
            overflow: hidden;
            position: relative;
        }

        /* Cards wrapper for sliding effect */
        .cards-wrapper {
            display: flex;
            height: 100%;
            transition: transform 0.5s ease-in-out;
        }

        /* Individual card */
        .card {
            flex: 0 0 100%;
            height: 100%;
            overflow: hidden;
            background-color: #fff;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
        }

        /* Card content */
        .card-content {
            flex: 1;
            overflow-y: auto;
            padding: 10px 20px 30px 20px; /* Adjusted padding */
            box-sizing: border-box;
            max-width: 450px;
            margin: 0 auto;
        }

        /* Section styles */
        .section-title {
            margin-top: 10px;
            margin-bottom: 10px;
            font-size: 20px;
            font-weight: bold;
        }

        /* Content block */
        .content-block {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 10px;
            word-wrap: break-word; /* Prevent overflow of long words */
            font-size: 16px;
            font-weight: bold;
        }

        .paragraphs {
            background-color: #e0f7fa; /* Light cyan */
            font-weight: normal;
        }

        /* Hide scrollbars on card content */
        .card-content::-webkit-scrollbar {
            width: 0px;
            background: transparent;
        }

        /* Action button styles */
        .action-button {
            padding: 10px 20px;
            margin: 5px 0;
            background-color: var(--theme-color);
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            width: 100%;
        }

        .action-button:hover {
            background-color: #7ec0ee; /* Slightly darker blue */
        }

        /* Footer */
        footer {
            text-align: center;
            font-size: 16px;
            font-family: 'Montserrat', sans-serif;
            padding: 10px;
            background-color: #f0f0f0;
        }

        footer a {
            color: #00bef8;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header with logo, buttons, and language switch -->
        <div class="header">
            <a href="https://futurofortissimo.github.io/">
                <img src="/index_files/ff.webp" alt="Logo" class="logo">
            </a>
            <!-- Buttons inside header -->
            <div class="buttons-container" id="buttons-container">
                <!-- Buttons will be dynamically inserted here -->
            </div>
            <button class="language-switch" id="language-switch">ðŸ‡¬ðŸ‡§</button>
        </div>

        <!-- Progress bar -->
        <div class="progress-bar"></div>

        <!-- Cards -->
        <div class="cards-container">
            <div class="cards-wrapper" id="cards-wrapper">
                <!-- Cards will be dynamically inserted here -->
            </div>
        </div>
    </div>

    <footer>
        <p><a href="https://linktr.ee/micmer">michele merelli</a> per
        <a href="https://fortissimo.substack.com/">futuro fortissimo</a></p>
    </footer>

    <script>
        // Content data in Italian
        const content = {
            it: {
                chapters: [
                    {
                        title: "ðŸƒ COP26, The Big Greta Is Watching You e le strategie per net-zero",
                        buttonLabel: 'ðŸƒ ff.1 Clima',
                        contentBlocks: [
                            {
                                type: 'paragraphs',
                                content: [
                                    "COP26, energie rinnovabili",
                                    "Bill Gates e il suo librozzo",
                                    "Quanto inquinano le criptovalute?"
                                ]
                            }
                        ]
                    },
                    {
                        title: "In breve - ff.1",
                        buttonLabel: 'ðŸŒŽ ff.1 In breve',
                        contentBlocks: [
                            {
                                type: 'paragraphs',
                                content: [
                                    "ðŸŒŽ ff.1.1 Sensibilizzazione e arte\nIl progetto artistico di COP26 ha rivoluzionato l'identitÃ  visiva della conferenza, evidenziando l'importanza dell'arte nel sensibilizzare sul cambiamento climatico.",
                                    "ðŸ“‰ ff.1.2 Da 51 miliardi a 0\nDa 51 miliardi a 0: la necessitÃ  urgente di ridurre a zero le emissioni globali di CO2-equivalenti, attualmente a 51 miliardi di tonnellate all'anno, per combattere il cambiamento climatico.",
                                    "ðŸ›´ ff.1.3 Gli scooter elettrici ci salveranno?\nL'80% degli spostamenti negli USA sono inferiori ai 16 km, suggerendo un potenziale di trasformazione della mobilitÃ  urbana tramite e-bikes e scooter elettrici.",
                                    "ðŸ­ ff.1.4 Catturare CO2 sarÃ  importante\nTecnologie di cattura CO2 potrebbero diventare economicamente accessibili a meno di 100$ per tonnellata, con l'industria del cemento e dell'acciaio come principali target.",
                                    "ðŸ‡«ðŸ‡® ff.1.5 Il consumo energetico di Bitcoin\nIl consumo energetico di Bitcoin equivale a quello dell'intera Finlandia, ma l'utilizzo di energia rinnovabile nel mining potrebbe mitigarne l'impatto ambientale.",
                                    "âš¡ ff.1.6 Fusione Nucleare\nLa fusione nucleare, un tempo prevista per i primi anni '90, ora mira al 2035 come traguardo per dimostrare un processo di fusione pulito."
                                ]
                            }
                        ]
                    },
                    {
                        title: "ðŸ”Œ Tesla, Van Moof, Duracell? Chi vincerÃ  la sfida della mobilitÃ  sostenibile?",
                        buttonLabel: 'ðŸ”Œ ff.5 Elettrizzante',
                        contentBlocks: [
                            {
                                type: 'paragraphs',
                                content: [
                                    "VanMoof: la Tesla olandese per le e-bike",
                                    "Quanto inquina una Tesla rispetto alla Panda?",
                                    "Noi come quelli a cavallo: il muro di Marchetti"
                                ]
                            }
                        ]
                    },
                    {
                        title: "In breve - ff.5",
                        buttonLabel: 'â“ ff.5 In breve',
                        contentBlocks: [
                            {
                                type: 'paragraphs',
                                content: [
                                    "â“ ff.5.1 Non tutto verde quello che luccica\nUtilitaria a benzina meno inquinante di Tesla? Una promettente start-up olandese, Lightyear One, riporta come non sia tuttâ€™oro, o verde, quello che luccica.",
                                    "ðŸ”‹ ff.5.2 Duracell? No, Tesla\nNon solo auto: Con 3 GWh di capacitÃ  Tesla controlla una buona porzione del potenziale di immagazzinamento di energia elettrica nel mondo. E puntano a raggiungere i 1.500 GWh entro il 2030.",
                                    "ðŸš² ff.5.3 Pedalata assistita\nDurante la pandemia, le bici elettriche hanno venduto piÃ¹ delle auto elettriche (500k bici vs 250k auto negli Stati Uniti).",
                                    "ðŸ˜Ž ff.5.4 La Tesla delle biciclette\nSe le bici elettriche sono la prossima frontiera della mobilitÃ , Van Moof Ã¨ la Tesla delle due ruote.",
                                    "ðŸ§± ff.5.5 Il muro di Marchetti\nUnâ€™ora costante universale: il limite di tempo di viaggio che influisce sulle scelte di vita e lavoro.",
                                    "âš°ï¸ ff.5.6 La pericolositÃ  del traffico, nel mondo\nE mentre siete nel traffico, occhio alla strada. In Europa guidiamo benissimo (se non per quelli col cappello)."
                                ]
                            }
                        ]
                    },
                    {
                        title: "ðŸš² Da Isola dei cani di Wes Anderson a Van Moof, la nuova rivoluzione verde dell'e-bike",
                        buttonLabel: 'ðŸš² ff.20 Greta in bici?',
                        contentBlocks: [
                            {
                                type: 'paragraphs',
                                content: [
                                    "Cosa c'entra Wes Anderson con i ladri di bicicletta?",
                                    "Milano o Parigi? Chi sarÃ  la regina delle piste ciclabili?",
                                    "Da quando a San Francisco si scia?"
                                ]
                            }
                        ]
                    },
                    {
                        title: "In breve - ff.20",
                        buttonLabel: 'ðŸš² ff.20 In breve',
                        contentBlocks: [
                            {
                                type: 'paragraphs',
                                content: [
                                    "ðŸš² ff.20.1 La rivincita delle biciclette\nLa pandemia ha aumentato l'uso della bicicletta, con un incremento notevole nelle Filippine e progressi anche in Italia con l'aumento delle piste ciclabili.",
                                    "ðŸ‡®ðŸ‡© ff.20.2 L'esempio di Jakarta\nA Jakarta, l'utilizzo della bicicletta Ã¨ aumentato di 6 volte, evidenziando un cambiamento significativo verso la mobilitÃ  sostenibile.",
                                    "â›·ï¸ ff.20.3 San Francisco come Cortina\nSan Francisco presenta mappe della pericolositÃ  delle strade come piste da sci: la pista nera sarebbe Viale Palmanova insomma.",
                                    "ðŸš¨ ff.20.4 Simmetrie di Wes Anderson contro i furti\nVan Moof, azienda olandese di e-bike, sfrutta le simmetrie di Wes Anderson per promuovere la sicurezza delle sue biciclette."
                                ]
                            }
                        ]
                    },
                    {
                        title: "ðŸŽ¼ Le piante ci salveranno?",
                        buttonLabel: 'ðŸŒ± ff.33 Le piante',
                        contentBlocks: [
                            {
                                type: 'paragraphs',
                                content: [
                                    "Inno alle piante, tra algoritmi, cattura di CO2 e problemi da risolvere",
                                    "Piante: da fotosintesi a fonte di conoscenza",
                                    "Foglie in silicone per efficienze maggiori",
                                    "Come modificare la genetica per catturare piÃ¹ CO2"
                                ]
                            }
                        ]
                    },
                    {
                        title: "In breve - ff.33",
                        buttonLabel: 'ðŸ§  ff.33 In breve',
                        contentBlocks: [
                            {
                                type: 'paragraphs',
                                content: [
                                    "ðŸ§  ff.33.1 La valenza filosofica e conoscitiva degli alberi\nEsplorando la connessione storica e culturale tra umanitÃ  e piante, evidenziata dall'ispirazione degli algoritmi di ricerca come il decision tree.",
                                    "ðŸ ff.33.2 Raccoglitori di CO2\nStudio su come le piante catturano e immagazzinano CO2, con focus su efficienze di storage in foreste e torbiere, mostrando l'importanza della biodiversitÃ  e delle tecnologie innovative per la semina.",
                                    "ðŸ­ ff.33.3 Piante modificate per catturare CO2\nTecniche genetiche avanzate come CRISPR vengono utilizzate per aumentare la capacitÃ  delle piante di convertire CO2 in carbonio stabilizzato, un approccio supportato da importanti investimenti nel campo della genetica vegetale.",
                                    "ðŸ§® ff.33.4 Muffe computazionali\nIl Plasmodium, una muffa sfruttata per risolvere problemi di ottimizzazione combinatoria come il Traveling Salesman Problem, dimostrando la potenzialitÃ  di sistemi biologici nel calcolo e nella progettazione di reti efficienti e resilienti."
                                ]
                            }
                        ]
                    },
                    {
                        title: "ðŸ› Il sottile equilibrio tra Greta, Greenpeace e speranza nel futuro",
                        buttonLabel: 'ðŸ› ff.51 Religione',
                        contentBlocks: [
                            {
                                type: 'paragraphs',
                                content: [
                                    "La Natura Ã¨ stata idealizzata?",
                                    "Lâ€™ecologia Ã¨ la religione del 21esimo secolo?",
                                    "Investiamo troppo per i cambiamenti climatici?"
                                ]
                            }
                        ]
                    },
                    {
                        title: "In breve - ff.51",
                        buttonLabel: 'ðŸ’š ff.51 In breve',
                        contentBlocks: [
                            {
                                type: 'paragraphs',
                                content: [
                                    "ðŸ’š ff.51.1 Lâ€™affabulazione per il verde\nRiflessioni su come la natura, simbolo di speranza e pace interiore, diventi oggetto di un'affabulazione romantica, che a volte rischia di distorcere la realtÃ  pragmatica della sua esistenza e utilitÃ .",
                                    "ðŸ› ff.51.2 Ecologia = religione?\nAnalisi critica sulle possibili somiglianze tra l'approccio moderno all'ecologia e le pratiche religiose, interrogandosi sull'esistenza di una fede verde basata piÃ¹ su convinzioni emotive che su azioni razionali e scientifiche.",
                                    "ðŸ”¥ ff.51.3 Sono il tuo sogno eretico\nI cambiamenti climatici sono esagerati dai media? Uno spunto per considerare un approccio piÃ¹ equilibrato che includa soluzioni innovative e adattive, anche valutando il ritorno sull'investimento delle politiche climatiche rispetto alla salute pubblica, l'istruzione e la riduzione della povertÃ ."
                                ]
                            }
                        ]
                    },
                    {
                        title: "âš–ï¸ I costi di ogni attivitÃ  per un budget da 10 tonnellate di CO2 annue",
                        buttonLabel: 'âš–ï¸ ff.61 Decrescita',
                        contentBlocks: [
                            {
                                type: 'paragraphs',
                                content: [
                                    "Stare nel budget di 10 tonnellate CO2 allâ€™anno",
                                    "Hamburger che inquinano meno degli asparagi",
                                    "Un abbonamento, stile Spotify, per vivere il mondo"
                                ]
                            }
                        ]
                    },
                    {
                        title: "In breve - ff.61",
                        buttonLabel: 'âš–ï¸ ff.61 In breve',
                        contentBlocks: [
                            {
                                type: 'paragraphs',
                                content: [
                                    "âš–ï¸ ff.61.1 Misurare lâ€™inquinamento in ore di vita\nConvertire le emissioni di CO2 in tempo di vita percepibile rende tangibile l'impatto ambientale delle nostre scelte quotidiane.",
                                    "ðŸ•— ff.61.2 Emissioni convertite in tempo\nAnalizzando le emissioni attraverso l'equivalenza tempo-CO2, individuiamo attivitÃ  quotidiane e il loro impatto in ore di vita perse.",
                                    "ðŸ¥© ff.61.3 Carne o asparagi?\nLa scelta alimentare influisce significativamente sulle emissioni di CO2, con sorprendenti confronti tra diete vegetariane e consumo di carne.",
                                    "ðŸŽ¶ ff.61.4 Un abbonamento stile Spotify per il mondo\nConsiderare l'inquinamento come un servizio in abbonamento puÃ² essere un passo verso la compensazione delle proprie emissioni CO2."
                                ]
                            }
                        ]
                    }
                ],
                bookDetails: {
                    image: '/libri/the-creative-act.png', // Replace with your actual image path
                    title: 'L\'Atto Creativo',
                    author: 'Apollo',
                    year: '2023',
                    pages: '300',
                    link: 'https://example.com/buy-the-creative-act',
                    offerCoffeeLink: 'https://example.com/coffee'
                }
            }
        };

        let currentLanguage = 'it';

        // Initialize the app
        let currentIndex = 0;

        // Get DOM elements
        const buttonsContainer = document.getElementById('buttons-container');
        const cardsWrapper = document.getElementById('cards-wrapper');
        const progressBar = document.querySelector('.progress-bar');
        const languageSwitch = document.getElementById('language-switch');

        let cards = [];

        function initializeApp() {
            buttonsContainer.innerHTML = '';
            cardsWrapper.innerHTML = '';
            cards = [];
            currentIndex = 0;

            const { chapters, bookDetails } = content[currentLanguage];

            // Create buttons and cards for chapters
            chapters.forEach((chapter, index) => {
                createButton(chapter.buttonLabel, index);
                createCard(chapter);
            });

            // Create "Book Details" button and card
            const detailsLabel = currentLanguage === 'it' ? 'ðŸ“– Dettagli' : 'ðŸ“– Details';
            createButton(detailsLabel, chapters.length);
            createBookCard(bookDetails);

            // Initialize to show the first card
            showCard(0);
        }

        // Function to create a button
        function createButton(label, index) {
            const button = document.createElement('div');
            button.className = 'button';
            button.textContent = label;
            button.addEventListener('click', () => {
                showCard(index);
            });
            buttonsContainer.appendChild(button);
        }

        // Function to create a content block
        function createContentBlock(type, contents) {
            const div = document.createElement('div');
            div.className = `content-block ${type}`;

            contents.forEach(item => {
                const p = document.createElement('p');
                p.textContent = item;
                div.appendChild(p);
            });

            return div;
        }

        // Function to create a card
        function createCard(chapter) {
            const card = document.createElement('div');
            card.className = 'card';

            const cardContent = document.createElement('div');
            cardContent.className = 'card-content';

            const title = document.createElement('h2');
            title.className = 'section-title';
            title.textContent = chapter.title;
            cardContent.appendChild(title);

            chapter.contentBlocks.forEach(block => {
                const contentBlock = createContentBlock(block.type, block.content);
                cardContent.appendChild(contentBlock);
            });

            card.appendChild(cardContent);

            cardsWrapper.appendChild(card);
            cards.push(card);
        }

        // Function to create the book details card
        function createBookCard(bookDetails) {
            const card = document.createElement('div');
            card.className = 'card';

            const cardContent = document.createElement('div');
            cardContent.className = 'card-content book-details';

            const buyText = currentLanguage === 'it' ? 'ðŸ“– Acquista il libro' : 'ðŸ“– Buy this book';
            const coffeeText = currentLanguage === 'it' ? 'â˜• Offrimi un caffÃ¨' : 'â˜• Buy me a coffee';
            const authorText = currentLanguage === 'it' ? 'Autore' : 'Author';
            const yearText = currentLanguage === 'it' ? 'Anno' : 'Year';
            const pagesText = currentLanguage === 'it' ? 'Pagine' : 'Pages';

            cardContent.innerHTML = `
                <img src="${bookDetails.image}" alt="Book Cover" style="width:100%; height:auto; border-radius: 10px;">
                <h2>${bookDetails.title}</h2>
                <p>${authorText}: ${bookDetails.author}</p>
                <p>${yearText}: ${bookDetails.year}</p>
                <p>${pagesText}: ${bookDetails.pages}</p>
                <button class="action-button" onclick="window.open('${bookDetails.link}', '_blank')">${buyText}</button>
                <button class="action-button" onclick="window.open('${bookDetails.offerCoffeeLink}', '_blank')">${coffeeText}</button>
            `;

            card.appendChild(cardContent);

            cardsWrapper.appendChild(card);
            cards.push(card);
        }

        // Function to display a specific card
        function showCard(index) {
            currentIndex = index;
            cardsWrapper.style.transform = `translateX(-${index * 100}%)`;
            const progress = ((index + 1) / cards.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // Swipe functionality
        let startX = 0;
        let isDown = false;

        const cardsContainer = document.querySelector('.cards-container');

        // Touch events for mobile
        cardsContainer.addEventListener('touchstart', touchStart, false);
        cardsContainer.addEventListener('touchmove', touchMove, false);
        cardsContainer.addEventListener('touchend', touchEnd, false);

        function touchStart(evt) {
            startX = evt.touches[0].clientX;
            isDown = true;
            cardsWrapper.style.transition = 'none';
        }

        function touchMove(evt) {
            if (!isDown) return;
            const x = evt.touches[0].clientX;
            const deltaX = x - startX;
            const percentage = (deltaX / window.innerWidth) * 100;
            const offset = -currentIndex * 100 + percentage;
            cardsWrapper.style.transform = `translateX(${offset}%)`;
        }

        function touchEnd(evt) {
            if (!isDown) return;
            isDown = false;
            const endX = evt.changedTouches[0].clientX;
            const deltaX = endX - startX;
            if (deltaX < -50 && currentIndex < cards.length - 1) {
                currentIndex++;
            } else if (deltaX > 50 && currentIndex > 0) {
                currentIndex--;
            }
            cardsWrapper.style.transition = 'transform 0.5s ease-in-out';
            showCard(currentIndex);
        }

        // Mouse events for desktop
        cardsContainer.addEventListener('mousedown', mouseDown, false);
        cardsContainer.addEventListener('mousemove', mouseMove, false);
        cardsContainer.addEventListener('mouseup', mouseUp, false);
        cardsContainer.addEventListener('mouseleave', mouseUp, false);

        function mouseDown(evt) {
            startX = evt.clientX;
            isDown = true;
            cardsWrapper.style.transition = 'none';
        }

        function mouseMove(evt) {
            if (!isDown) return;
            const x = evt.clientX;
            const deltaX = x - startX;
            const percentage = (deltaX / window.innerWidth) * 100;
            const offset = -currentIndex * 100 + percentage;
            cardsWrapper.style.transform = `translateX(${offset}%)`;
        }

        function mouseUp(evt) {
            if (!isDown) return;
            isDown = false;
            const endX = evt.clientX;
            const deltaX = endX - startX;
            if (deltaX < -50 && currentIndex < cards.length - 1) {
                currentIndex++;
            } else if (deltaX > 50 && currentIndex > 0) {
                currentIndex--;
            }
            cardsWrapper.style.transition = 'transform 0.5s ease-in-out';
            showCard(currentIndex);
        }

        // Language switch functionality
        languageSwitch.addEventListener('click', () => {
            currentLanguage = currentLanguage === 'it' ? 'en' : 'it';
            languageSwitch.textContent = currentLanguage === 'it' ? 'ðŸ‡¬ðŸ‡§' : 'ðŸ‡®ðŸ‡¹';
            initializeApp();
        });

        // Initialize the app after the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', () => {
            initializeApp();
        });
    </script>
</body>
</html>
